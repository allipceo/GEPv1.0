### **A. 모든 화면 통계 표시 + 진행률 바 (4시간)**

#### **기본학습 화면 - 진행률 바 포함**
```html
<!-- 로딩 인디케이터 -->
<div id="loading-indicator" class="hidden text-center text-blue-600 mb-4">
    진도 정보를 불러오는 중...
</div>

<!-- 진행률 바 추가 (서대리 제안 반영) -->
<div class="progress-container mb-4">
    <div class="flex justify-between text-sm text-gray-600 mb-1">
        <span>기본학습 진행률</span>
        <span id="basic-progress-text">0/789 (0%)</span>
    </div>
    <div class="w-full bg-gray-200 rounded-full h-3">
        <div id="basic-progress-bar" class="bg-blue-500 h-3 rounded-full transition-all duration-300" 
             style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
</div>

<div id="basic-learning-stats" class="bg-gray-100 p-3 rounded mb-4">
    <div class="text-sm">
        <div><strong>누적:</strong> <span id="basic-total">0</span>문제, 
             <span id="basic-correct">0</span>개 정답, 
             <span id="basic-accuracy">0</span>%</div>
        <div><strong>오늘:</strong> <span id="basic-today">0</span>문제, 
             <span id="basic-today-correct">0</span>개 정답, 
             <span id="basic-today-accuracy">0</span>%</div>
    </div>
    
    <!-- 오류 상태 표시 -->
    <div id="stats-error" class="hidden text-red-600 text-xs mt-2">
        통계 데이터 오류가 발생했습니다. 새로고침 후 다시 시도해주세요.
    </div>
</div>
```

#### **대분류 화면 카테고리별 탭 + 진행률**
```html
<div class="category-tabs grid grid-cols-2 gap-2 mb-4">
    <div class="tab p-3 bg-blue-100 rounded cursor-pointer" data-category="재산보험">
        <div class="font-semibold">재산보험</div>
        <div class="text-sm text-gray-600">
            <span id="재산보험-progress-text">0/197</span>
            <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                <div id="category-재산보험-progress-bar" class="bg-blue-500 h-2 rounded-full" style="width: 0%"></div>
            </div>
        </div>
    </div>
    <div class="tab p-3 bg-green-100 rounded cursor-pointer" data-category="특종보험">
        <div class="font-semibold">특종보험</div>
        <div class="text-sm text-gray-600">
            <span id="특종보험-progress-text">0/263</span>
            <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                <div id="category-특종보험-progress-bar" class="bg-green-500 h-2 rounded-full" style="width: 0%"></div>
            </div>
        </div>
    </div>
    <div class="tab p-3 bg-orange-100 rounded cursor-pointer" data-category="배상보험">
        <div class="font-semibold">배상보험</div>
        <div class="text-sm text-gray-600">
            <span id="배상보험-progress-text">0/197</span>
            <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                <div id="category-배상보험-progress-bar" class="bg-orange-500 h-2 rounded-full" style="width: 0%"></div>
            </div>
        </div>
    </div>
    <div class="tab p-3 bg-purple-100 rounded cursor-pointer" data-category="해상보험">
        <div class="font-semibold">해상보험</div>
        <div class="text-sm text-gray-600">
            <span id="해상보험-progress-text">0/132</span>
            <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                <div id="category-해상보험-progress-bar" class="bg-purple-500 h-2 rounded-full" style="width: 0%"></div>
            </div>
        </div>
    </div>
</div>
```

#### **데이터 오류 처리 로직 강화**
```javascript
function handleDataError(error) {
    console.error('Data error occurred:', error);
    
    // 오류 UI 표시
    const errorDiv = document.getElementById('stats-error');
    if (errorDiv) {
        errorDiv.classList.remove('hidden');
    }
    
    // 백업 데이터로 복구 시도
    try {
        const recovered = recoverProgressData();
        if (recovered) {
            console.log('Data recovered successfully');
            // UI 다시 업데이트
            setTimeout(() => {
                updateAllStats();
                if (errorDiv) errorDiv.classList.add('hidden');
            }, 1000);
        }
    } catch (recoveryError) {
        console.error('Data recovery failed:', recoveryError);
        
        // ## 📞 **일일 보고 의무**

### **매일 18:00 보고 내용**
1. **금일 완료 사항**: 구체적 기능 목록
2. **테스트 결과**: 성공/실패 여부 + 단위 테스트 결과
3. **발견된 이슈**: 문제점 및 해결 방안
4. **내일 계획# 서대리 과업지시서 V1.2 - ACIU S4 Level 1 통계기능 개발

**발령일**: 2025년 8월 11일 23:30 KST  
**버전**: V1.2 (서대리 추가 건의사항 반영 - 최종)  
**지시자**: 조대표님  
**수행자**: 서대리  
**지원**: 노팀장 (기술자문)  
**목표**: Level 1 무료 기본버전 3일 완성  

---

## 🎯 **핵심 미션**

**"이어풀기만 완벽하게 구현하라!"**

- 복잡한 statistics.json 구조 **금지**
- LocalStorage 기반 **단순 구조**로만 구현
- 고급 분석 기능 **완전 제외**
- 3일 내 **완벽 작동** 목표

---

## 📋 **Day 1 과업 (내일 완료)**

### **A. 데이터 구조 설계 (4시간)**

#### **LocalStorage 스키마 확정**
```javascript
// 키: 'aicu_progress_v1'
const progressData = {
    // 버전 및 메타데이터 (서대리 제안 반영)
    version: '1.0',
    lastBackup: '2025-08-11T23:30:00.000Z',
    
    // 사용자 기본 정보
    userInfo: {
        registrationDate: '2025-08-11T23:30:00.000Z',
        userName: '김철수',
        examDate: '2025-12-15',
        lastLoginDate: '2025-08-11'
    },
    
    // 기본학습 진도 (핵심: lastQuestion으로 이어풀기)
    basicLearning: {
        lastQuestion: 0,        // 마지막 푼 문제 번호 (0~789)
        totalAttempted: 0,      // 총 시도 문제수
        totalCorrect: 0,        // 총 정답수
        todayAttempted: 0,      // 오늘 시도 문제수
        todayCorrect: 0,        // 오늘 정답수
        lastStudyDate: '2025-08-11'
    },
    
    // 대분류 진도 (카테고리별 독립 이어풀기)
    categories: {
        재산보험: {
            lastQuestion: 0,
            totalAttempted: 0,
            totalCorrect: 0,
            todayAttempted: 0,
            todayCorrect: 0,
            maxQuestions: 197
        },
        특종보험: {
            lastQuestion: 0,
            totalAttempted: 0,
            totalCorrect: 0,
            todayAttempted: 0,
            todayCorrect: 0,
            maxQuestions: 263
        },
        배상보험: {
            lastQuestion: 0,
            totalAttempted: 0,
            totalCorrect: 0,
            todayAttempted: 0,
            todayCorrect: 0,
            maxQuestions: 197
        },
        해상보험: {
            lastQuestion: 0,
            totalAttempted: 0,
            totalCorrect: 0,
            todayAttempted: 0,
            todayCorrect: 0,
            maxQuestions: 132
        }
    },
    
    // 오류 복구용 백업 데이터 (서대리 제안 반영)
    backup: {
        lastValidData: null,
        errorCount: 0
    }
};
```

#### **필수 함수 7개 구현 (마이그레이션 추가)**
```javascript
// 1. 진도 저장 함수 (가장 중요!)
function saveProgress(mode, questionNumber, isCorrect, options = {}) {
    try {
        const progress = getProgress();
        
        // 데이터 검증
        if (!validateQuestionNumber(mode, questionNumber)) {
            throw new Error(`Invalid question number: ${questionNumber} for mode: ${mode}`);
        }
        
        // 백업 생성 (오류 복구용)
        progress.backup.lastValidData = JSON.parse(JSON.stringify(progress));
        progress.backup.errorCount = 0;
        
        // mode: 'basic' 또는 'category-재산보험' 형태
        // questionNumber: 현재 푼 문제 번호  
        // isCorrect: 정답 여부
        // options: { timestamp, skipValidation }
        
        // 압축 저장 (용량 최적화)
        const compressed = compressProgressData(progress);
        localStorage.setItem('aicu_progress_v1', compressed);
        
        return true;
    } catch (error) {
        console.error('Save progress failed:', error);
        handleDataError(error);
        return false;
    }
}

// 2. 다음 문제 조회 함수 (이어풀기 핵심!)
function getNextQuestion(mode, options = {}) {
    try {
        const progress = getProgress();
        
        // return: { questionNumber: 21, message: "21번부터 계속하기" }
        // 또는: { completed: true, message: "모든 문제 완료!" }
        
        if (options.forceRefresh) {
            // 캐시 무효화 후 재계산
        }
        
    } catch (error) {
        console.error('Get next question failed:', error);
        return { error: true, message: "데이터 로드 실패" };
    }
}

// 3. 진도 조회 함수 (마이그레이션 포함)
function getProgress() {
    try {
        // 먼저 마이그레이션 시도
        const migrated = migrateProgressData();
        if (migrated) {
            const validation = validateProgressData(migrated);
            
            if (!validation.isValid) {
                console.warn('Invalid progress data after migration:', validation.errors);
                return recoverProgressData();
            }
            
            return migrated;
        }
        
        return getDefaultProgressData();
    } catch (error) {
        console.error('Progress data corrupted:', error);
        return recoverProgressData();
    }
}

// 4. 데이터 마이그레이션 함수 (서대리 제안 추가)
function migrateProgressData() {
    const stored = localStorage.getItem('aicu_progress_v1');
    if (!stored) return null;
    
    try {
        const data = JSON.parse(stored);
        
        // 버전 확인 및 마이그레이션
        if (!data.version || data.version === '0.9') {
            console.log('Migrating data from v0.9 to v1.0');
            const migrated = migrateFromV09(data);
            localStorage.setItem('aicu_progress_v1', JSON.stringify(migrated));
            return migrated;
        }
        
        return data;
    } catch (error) {
        console.error('Migration failed:', error);
        return null;
    }
}

function migrateFromV09(oldData) {
    return {
        version: '1.0',
        lastBackup: new Date().toISOString(),
        userInfo: {
            registrationDate: oldData.registrationDate || new Date().toISOString(),
            userName: oldData.userName || '사용자',
            examDate: oldData.examDate || '',
            lastLoginDate: new Date().toISOString().split('T')[0]
        },
        basicLearning: {
            lastQuestion: oldData.lastQuestion || 0,
            totalAttempted: oldData.totalAttempted || 0,
            totalCorrect: oldData.totalCorrect || 0,
            todayAttempted: 0, // 새로 추가된 필드
            todayCorrect: 0,   // 새로 추가된 필드
            lastStudyDate: new Date().toISOString().split('T')[0]
        },
        categories: {
            재산보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 197 },
            특종보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 263 },
            배상보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 197 },
            해상보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 132 }
        },
        backup: {
            lastValidData: null,
            errorCount: 0
        }
    };
}

// 5. 데이터 검증 함수 (강화)
function validateProgressData(data) {
    const errors = [];
    
    // 필수 필드 존재 확인
    if (!data.userInfo || !data.basicLearning || !data.categories) {
        errors.push('Missing required fields');
    }
    
    // 데이터 타입 검증
    if (typeof data.basicLearning.lastQuestion !== 'number') {
        errors.push('Invalid lastQuestion type');
    }
    
    // 범위 값 검증
    if (data.basicLearning.lastQuestion < 0 || data.basicLearning.lastQuestion > 789) {
        errors.push('lastQuestion out of range');
    }
    
    // 카테고리별 범위 검증
    Object.entries(data.categories).forEach(([category, catData]) => {
        if (catData.lastQuestion < 0 || catData.lastQuestion > catData.maxQuestions) {
            errors.push(`${category} lastQuestion out of range`);
        }
    });
    
    return {
        isValid: errors.length === 0,
        errors: errors
    };
}

// 6. 데이터 복구 함수
function recoverProgressData() {
    try {
        const stored = localStorage.getItem('aicu_progress_v1');
        if (stored) {
            const data = JSON.parse(stored);
            
            // 백업 데이터 사용 시도
            if (data.backup && data.backup.lastValidData) {
                console.log('Using backup data for recovery');
                data.backup.errorCount++;
                return data.backup.lastValidData;
            }
        }
    } catch (error) {
        console.error('Backup recovery failed:', error);
    }
    
    console.log('Creating fresh progress data');
    return getDefaultProgressData();
}

// 7. 데이터 압축 함수 (서대리 제안 추가)
function compressProgressData(data) {
    // 불필요한 공백 제거 및 용량 최적화
    const compressed = JSON.stringify(data, null, 0);
    
    // 용량 모니터링
    if (compressed.length > 100000) { // 100KB 이상 시 경고
        console.warn('Progress data size is large:', compressed.length, 'bytes');
    }
    
    return compressed;
}

// 8. 기본 데이터 생성 함수
function getDefaultProgressData() {
    return {
        version: '1.0',
        lastBackup: new Date().toISOString(),
        userInfo: {
            registrationDate: new Date().toISOString(),
            userName: '사용자',
            examDate: '',
            lastLoginDate: new Date().toISOString().split('T')[0]
        },
        basicLearning: {
            lastQuestion: 0,
            totalAttempted: 0,
            totalCorrect: 0,
            todayAttempted: 0,
            todayCorrect: 0,
            lastStudyDate: new Date().toISOString().split('T')[0]
        },
        categories: {
            재산보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 197 },
            특종보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 263 },
            배상보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 197 },
            해상보험: { lastQuestion: 0, totalAttempted: 0, totalCorrect: 0, todayAttempted: 0, todayCorrect: 0, maxQuestions: 132 }
        },
        backup: {
            lastValidData: null,
            errorCount: 0
        }
    };
}
```

### **B. 핵심 로직 구현 (4시간)**

#### **이어풀기 정확성 테스트 시나리오**
```javascript
// 테스트 1: 기본학습 이어풀기
// 1-10번 풀이 → getNextQuestion('basic') → 11 반환
// 11-20번 풀이 → getNextQuestion('basic') → 21 반환

// 테스트 2: 대분류 이어풀기
// 재산보험 1-5번 풀이 → getNextQuestion('category-재산보험') → 6 반환
// 특종보험 1-3번 풀이 → getNextQuestion('category-특종보험') → 4 반환

// 테스트 3: 날짜 변경 시
// 어제 20번까지 → 오늘 접속 → todayAttempted = 0, lastQuestion = 20 유지
```

---

## 📋 **Day 2 과업**

### **A. 대문 3개 통계 박스 (4시간)**

#### **박스 1: 보유 문제수**
```javascript
// 고정값으로 단순화
const TOTAL_QUESTIONS = 789; // 기본학습 기준
const CATEGORY_QUESTIONS = {
    재산보험: 197,
    특종보험: 263, 
    배상보험: 197,
    해상보험: 132
};
```

#### **박스 2: 학습 진도**
```javascript
function calculateProgressStats() {
    const progress = getProgress();
    const basic = progress.basicLearning;
    
    // 통합 통계 (기본학습 + 대분류 합산)
    let totalAttempted = basic.totalAttempted;
    let totalCorrect = basic.totalCorrect;
    
    Object.values(progress.categories).forEach(cat => {
        totalAttempted += cat.totalAttempted;
        totalCorrect += cat.totalCorrect;
    });
    
    return {
        progressRate: ((totalAttempted / 789) * 100).toFixed(1),
        accuracyRate: totalAttempted > 0 ? ((totalCorrect / totalAttempted) * 100).toFixed(1) : 0
    };
}
```

#### **박스 3: 오늘 학습**
```javascript
function calculateTodayStats() {
    const progress = getProgress();
    const today = new Date().toISOString().split('T')[0];
    
    // 날짜가 바뀌면 오늘 통계 초기화
    if (progress.basicLearning.lastStudyDate !== today) {
        resetTodayStats();
    }
    
    // 오늘 통계 합산
    let todayTotal = progress.basicLearning.todayAttempted;
    let todayCorrect = progress.basicLearning.todayCorrect;
    
    Object.values(progress.categories).forEach(cat => {
        todayTotal += cat.todayAttempted;
        todayCorrect += cat.todayCorrect;
    });
    
    return {
        todayAttempted: todayTotal,
        todayAccuracyRate: todayTotal > 0 ? ((todayCorrect / todayTotal) * 100).toFixed(1) : 0
    };
}
```

### **B. 실시간 UI 업데이트 + 진행률 시각화 (4시간)**

#### **로딩 상태 표시 + 성취 시스템**
```javascript
// 데이터 로딩 중 사용자 피드백
function showLoadingState(message = "진도 정보를 불러오는 중...") {
    const loadingDiv = document.getElementById('loading-indicator');
    if (loadingDiv) {
        loadingDiv.textContent = message;
        loadingDiv.classList.remove('hidden');
    }
}

function hideLoadingState() {
    const loadingDiv = document.getElementById('loading-indicator');
    if (loadingDiv) {
        loadingDiv.classList.add('hidden');
    }
}

// 진행률 시각화 (서대리 제안 반영)
function updateProgressBar(mode) {
    const progress = getProgress();
    let current, total;
    
    if (mode === 'basic') {
        current = progress.basicLearning.lastQuestion;
        total = 789;
    } else {
        const category = mode.replace('category-', '');
        current = progress.categories[category].lastQuestion;
        total = progress.categories[category].maxQuestions;
    }
    
    const percentage = Math.round((current / total) * 100);
    
    // 프로그레스 바 업데이트
    const progressBar = document.querySelector(`#${mode}-progress-bar`);
    if (progressBar) {
        progressBar.style.width = `${percentage}%`;
        progressBar.setAttribute('aria-valuenow', percentage);
        
        // 진행률 텍스트 업데이트
        const progressText = document.querySelector(`#${mode}-progress-text`);
        if (progressText) {
            progressText.textContent = `${current}/${total} (${percentage}%)`;
        }
    }
}

// 성취감 부여 시스템 (서대리 제안 반영)
function checkAchievements() {
    const progress = getProgress();
    const achievements = [];
    
    // 첫 문제 풀이
    if (progress.basicLearning.totalAttempted === 1) {
        achievements.push({ type: 'first_question', message: '🎉 첫 문제를 풀었습니다!' });
    }
    
    // 10문제 달성
    if (progress.basicLearning.totalAttempted === 10) {
        achievements.push({ type: 'ten_questions', message: '🔥 10문제를 풀었습니다!' });
    }
    
    // 50% 진도
    const totalProgress = progress.basicLearning.lastQuestion / 789;
    if (totalProgress >= 0.5 && totalProgress < 0.51) {
        achievements.push({ type: 'halfway', message: '🏃‍♂️ 절반을 완주했습니다!' });
    }
    
    // 100문제 달성
    if (progress.basicLearning.totalAttempted === 100) {
        achievements.push({ type: 'hundred_questions', message: '💯 100문제를 풀었습니다!' });
    }
    
    return achievements;
}

function showAchievement(achievement) {
    const toast = document.createElement('div');
    toast.className = 'achievement-toast fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50';
    toast.textContent = achievement.message;
    document.body.appendChild(toast);
    
    // 3초 후 제거
    setTimeout(() => {
        toast.remove();
    }, 3000);
}

// 데이터 업데이트 시 즉시 UI 반영
function updateAllStats() {
    showLoadingState("통계 업데이트 중...");
    
    try {
        // 대문 3개 박스 업데이트
        updateHomeStats();
        
        // 현재 화면별 통계 업데이트
        const currentScreen = getCurrentScreen();
        if (currentScreen === 'basic') {
            updateBasicLearningStats();
            updateProgressBar('basic');
        } else if (currentScreen === 'category') {
            updateCategoryStats();
            // 모든 카테고리 프로그레스 바 업데이트
            ['재산보험', '특종보험', '배상보험', '해상보험'].forEach(category => {
                updateProgressBar(`category-${category}`);
            });
        }
        
        // 이어풀기 버튼 업데이트
        updateContinueButtons();
        
        // 성취 확인 및 표시
        const achievements = checkAchievements();
        achievements.forEach(achievement => {
            showAchievement(achievement);
        });
        
        hideLoadingState();
    } catch (error) {
        console.error('Stats update failed:', error);
        showLoadingState("통계 업데이트 실패");
        setTimeout(hideLoadingState, 2000);
    }
}
```

---

## 📋 **Day 3 과업**

### **A. 모든 화면 통계 표시 + 오류 처리 (4시간)**

#### **기본학습 화면 2줄 통계**
```html
<!-- 로딩 인디케이터 추가 -->
<div id="loading-indicator" class="hidden text-center text-blue-600 mb-4">
    진도 정보를 불러오는 중...
</div>

<div id="basic-learning-stats" class="bg-gray-100 p-3 rounded mb-4">
    <div class="text-sm">
        <div><strong>누적:</strong> <span id="basic-total">0</span>문제, 
             <span id="basic-correct">0</span>개 정답, 
             <span id="basic-accuracy">0</span>%</div>
        <div><strong>오늘:</strong> <span id="basic-today">0</span>문제, 
             <span id="basic-today-correct">0</span>개 정답, 
             <span id="basic-today-accuracy">0</span>%</div>
    </div>
    
    <!-- 오류 상태 표시 -->
    <div id="stats-error" class="hidden text-red-600 text-xs mt-2">
        통계 데이터 오류가 발생했습니다. 새로고침 후 다시 시도해주세요.
    </div>
</div>
```

#### **데이터 오류 처리 로직 강화**
```javascript
function handleDataError(error) {
    console.error('Data error occurred:', error);
    
    // 오류 UI 표시
    const errorDiv = document.getElementById('stats-error');
    if (errorDiv) {
        errorDiv.classList.remove('hidden');
    }
    
    // 백업 데이터로 복구 시도
    try {
        const recovered = recoverProgressData();
        if (recovered) {
            console.log('Data recovered successfully');
            // UI 다시 업데이트
            setTimeout(() => {
                updateAllStats();
                if (errorDiv) errorDiv.classList.add('hidden');
            }, 1000);
        }
    } catch (recoveryError) {
        console.error('Data recovery failed:', recoveryError);
        
        // 사용자에게 안내 메시지
        if (confirm('데이터 복구에 실패했습니다. 진도를 초기화하시겠습니까?')) {
            // 완전 초기화
            localStorage.removeItem('aicu_progress_v1');
            location.reload();
        }
    }
}

// 개발자 도구 (서대리 제안 반영)
function setupDevTools() {
    if (window.location.hostname === 'localhost' || window.location.hostname.includes('127.0.0.1')) {
        window.debugTools = {
            // 데이터 상태 확인
            inspectData: () => {
                console.group('=== Progress Data Inspection ===');
                const data = getProgress();
                console.log('Full Data:', data);
                console.log('Data Size:', JSON.stringify(data).length, 'bytes');
                console.log('Validation:', validateProgressData(data));
                console.groupEnd();
            },
            
            // 테스트 데이터 생성
            generateTestData: (scenario) => {
                const testData = getDefaultProgressData();
                
                switch(scenario) {
                    case 'halfway':
                        testData.basicLearning.lastQuestion = 394;
                        testData.basicLearning.totalAttempted = 394;
                        testData.basicLearning.totalCorrect = 315;
                        break;
                    case 'almost_done':
                        testData.basicLearning.lastQuestion = 750;
                        testData.basicLearning.totalAttempted = 750;
                        testData.basicLearning.totalCorrect = 600;
                        break;
                    case 'category_mixed':
                        testData.categories.재산보험.lastQuestion = 50;
                        testData.categories.특종보험.lastQuestion = 30;
                        break;
                }
                
                localStorage.setItem('aicu_progress_v1', JSON.stringify(testData));
                console.log(`Test data generated for scenario: ${scenario}`);
                updateAllStats(); // UI 즉시 업데이트
            },
            
            // 데이터 초기화
            resetData: () => {
                localStorage.removeItem('aicu_progress_v1');
                console.log('Progress data reset');
                location.reload();
            }
        };
        
        console.log('🛠️ Development tools available: window.debugTools');
    }
}
```

#### **대분류 화면 카테고리별 탭**
```html
<div class="category-tabs">
    <div class="tab" data-category="재산보험">
        재산보험 <span class="progress">0/197</span>
    </div>
    <div class="tab" data-category="특종보험">
        특종보험 <span class="progress">0/263</span>
    </div>
    <!-- 나머지 카테고리들... -->
</div>
```

### **B. 최종 테스트 + 통합 테스트 자동화 (4시간)**

#### **조대표님 테스트 시나리오**
1. **신규 사용자**: 설정 등록 → 기본학습 1번부터 시작 확인
2. **이어풀기 테스트**: 10번까지 풀이 → 앱 재시작 → 11번부터 시작 확인
3. **카테고리 전환**: 재산보험 5번까지 → 특종보험 1번부터 → 재산보험 6번부터 확인
4. **날짜 변경 테스트**: 오늘 통계 0 초기화, 누적 통계 유지 확인
5. **통계 정확성**: 모든 박스 수치 수동 계산과 일치 확인

#### **통합 테스트 자동화 (서대리 제안 반영)**
```javascript
// 통합 테스트 자동화
function runIntegrationTests() {
    console.log('=== Integration Test Suite ===');
    
    const tests = [
        {
            name: 'Fresh User Flow',
            test: () => {
                localStorage.removeItem('aicu_progress_v1');
                const progress = getProgress();
                return progress.basicLearning.lastQuestion === 0 && progress.version === '1.0';
            }
        },
        {
            name: 'Progress Continuity',
            test: () => {
                saveProgress('basic', 5, true);
                const next = getNextQuestion('basic');
                return next.questionNumber === 6;
            }
        },
        {
            name: 'Category Independence',
            test: () => {
                saveProgress('category-재산보험', 10, true);
                saveProgress('category-특종보험', 5, true);
                const progress = getProgress();
                return progress.categories.재산보험.lastQuestion === 10 && 
                       progress.categories.특종보험.lastQuestion === 5;
            }
        },
        {
            name: 'Date Change Handling',
            test: () => {
                const progress = getProgress();
                progress.basicLearning.lastStudyDate = '2025-08-10';
                progress.basicLearning.todayAttempted = 10;
                localStorage.setItem('aicu_progress_v1', JSON.stringify(progress));
                
                const todayStats = calculateTodayStats();
                return todayStats.todayAttempted === 0;
            }
        },
        {
            name: 'Error Recovery',
            test: () => {
                localStorage.setItem('aicu_progress_v1', 'invalid json');
                const recovered = getProgress();
                return recovered.version === '1.0';
            }
        },
        {
            name: 'Data Migration (v0.9 to v1.0)',
            test: () => {
                const oldData = {
                    lastQuestion: 10,
                    totalAttempted: 10,
                    totalCorrect: 8,
                    userName: '테스트사용자'
                };
                localStorage.setItem('aicu_progress_v1', JSON.stringify(oldData));
                const migrated = getProgress();
                return migrated.version === '1.0' && 
                       migrated.basicLearning.lastQuestion === 10 &&
                       migrated.userInfo.userName === '테스트사용자';
            }
        },
        {
            name: 'Progress Bar Accuracy',
            test: () => {
                const progress = getProgress();
                progress.basicLearning.lastQuestion = 100;
                localStorage.setItem('aicu_progress_v1', JSON.stringify(progress));
                
                // 프로그레스 바 업데이트 시뮬레이션
                const current = 100;
                const total = 789;
                const expectedPercentage = Math.round((current / total) * 100);
                
                return expectedPercentage === 13; // 100/789 = 약 12.7% → 13%
            }
        },
        {
            name: 'Achievement System',
            test: () => {
                const progress = getProgress();
                progress.basicLearning.totalAttempted = 1;
                localStorage.setItem('aicu_progress_v1', JSON.stringify(progress));
                
                const achievements = checkAchievements();
                return achievements.length > 0 && achievements[0].type === 'first_question';
            }
        }
    ];
    
    let passed = 0;
    let failed = 0;
    
    tests.forEach(test => {
        try {
            const result = test.test();
            if (result) {
                console.log(`✅ ${test.name}: PASSED`);
                passed++;
            } else {
                console.log(`❌ ${test.name}: FAILED`);
                failed++;
            }
        } catch (error) {
            console.log(`❌ ${test.name}: ERROR - ${error.message}`);
            failed++;
        }
    });
    
    console.log(`\nTest Results: ${passed} passed, ${failed} failed`);
    
    // 최종 결과 판정
    if (failed === 0) {
        console.log('🎉 ALL TESTS PASSED - Ready for production!');
        return true;
    } else {
        console.log('⚠️ Some tests failed - Please fix before deployment');
        return false;
    }
}

// 성능 측정 함수
function measurePerformance() {
    console.log('=== Performance Measurement ===');
    
    const functions = [
        { name: 'getProgress', func: getProgress },
        { name: 'saveProgress', func: () => saveProgress('basic', 1, true) },
        { name: 'getNextQuestion', func: () => getNextQuestion('basic') },
        { name: 'validateProgressData', func: () => validateProgressData(getProgress()) }
    ];
    
    functions.forEach(({ name, func }) => {
        const iterations = 1000;
        const start = performance.now();
        
        for (let i = 0; i < iterations; i++) {
            func();
        }
        
        const end = performance.now();
        const avgTime = ((end - start) / iterations).toFixed(4);
        console.log(`${name}: ${avgTime}ms per call`);
    });
}
```

---

## 🚨 **금지사항 (절대 하지 말 것)**

### ❌ **복잡한 구조 금지**
- statistics.json 파일 생성 **금지**
- 서버 API 연동 **금지**  
- 복잡한 데이터베이스 구조 **금지**

### ❌ **고급 기능 금지**
- 학습 패턴 분석 **금지**
- 차트/그래프 **금지**
- 예측/추천 기능 **금지**

### ❌ **오버엔지니어링 금지**
- 200줄 넘는 함수 **금지**
- 복잡한 알고리즘 **금지**
- 과도한 미래 확장성 고려 **금지**

---

## ✅ **필수 준수사항**

### 🎯 **핵심 원칙**
1. **단순함이 최고**: localStorage만 사용
2. **이어풀기 최우선**: 정확한 위치 추적
3. **실시간 업데이트**: 클릭 즉시 반영
4. **3일 완성**: 완벽한 작동 상태
5. **안정성 확보**: 오류 처리 및 복구 (서대리 제안 반영)

### 📊 **성공 기준**
- [ ] 기본학습 이어풀기 100% 정확
- [ ] 4개 카테고리 독립 이어풀기
- [ ] 대문 3개 박스 실시간 업데이트
- [ ] 앱 재시작 후 진도 완벽 복원
- [ ] 날짜 변경 시 오늘 통계 초기화
- [ ] 데이터 오류 시 자동 복구 (신규)
- [ ] 단위 테스트 모두 통과 (신규)

---

## 📞 **일일 보고 의무**

### **매일 18:00 보고 내용**
1. **금일 완료 사항**: 구체적 기능 목록
2. **테스트 결과**: 성공/실패 여부
3. **발견된 이슈**: 문제점 및 해결 방안
4. **내일 계획**: 구체적 작업 목록

### **막힘 발생 시 즉시 보고**
- 기술적 문제: 노팀장에게 즉시 요청
- 요구사항 불명확: 조대표님께 즉시 질의
- 일정 지연 우려: 즉시 상황 보고

---

## 🚀 **최종 목표**

**"조대표님이 직접 테스트해서 완벽한 이어풀기 동작을 확인할 수 있는 제품"**

### **완성 기준**
- 조대표님 테스트 시나리오 100% 통과
- 모든 기능 버그 없이 작동
- 3일 내 완전한 제품 완성

### **성공 시 보상**
- Level 2, 3 개발 기회 제공
- 기술팀 내 평가 상승
- 다음 프로젝트 우선 배정

---

**서대리, 이 과업지시서를 정확히 숙지하고 즉시 개발에 착수하라!**  
**Level 1 성공이 전체 프로젝트의 성패를 좌우한다!** 🚀

---

**발령**: 2025년 8월 11일 23:30 KST  
**완료 기한**: 2025년 8월 14일 18:00 KST  
**책임자**: 서대리  
**검수자**: 조대표님