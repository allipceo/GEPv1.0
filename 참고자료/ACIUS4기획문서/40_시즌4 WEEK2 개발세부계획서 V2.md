# 시즌4 WEEK2 개발세부계획서 V2.0 (최종)

**작성일**: 2025년 8월 9일 21:06 KST  
**최종 수정**: 2025년 8월 9일 23:50 KST (현실적 목표로 재조정)  
**작성자**: 노팀장 (기술자문)  
**승인자**: 조대표님  
**프로젝트 단계**: Week 2 (핵심 통계 기능 + 기본 사용자 시스템)  
**문서버전**: V2.0 (조대표님 핵심 요구사항 100% 반영)  
**기준**: 시즌1 기능 보존 + 점진적 개선

---

## 📋 **Week2 개요 (최종 확정)**

### **출발 상황**
- ✅ **시즌1 완성**: 이상업님 현재 사용 중인 완성된 앱
- ✅ **Week1 완료**: data_converter, quiz_handler, stats_handler 기본 완성
- ✅ **리펙토링 완료**: app_v1.4.py 분리형 아키텍처
- 🎯 **명확한 목표**: 조대표님 핵심 통계 기능 요구사항 구현

### **Week2 목표 (현실적 범위)**
- **1순위**: **핵심 통계 기능** (조대표님 8개 요구사항)
- **2순위**: **기본 사용자 시스템** (다중 사용자 기반)
- **3순위**: **데이터 연속성** (기기 간 동기화)
- **핵심 원칙**: 시즌1 기능 100% 보존 + 점진적 개선

---

## 🎯 **조대표님 핵심 통계 기능 요구사항 (확정)**

### **[대문] 홈 화면 통계 (3개 박스)**

#### **1. 보유문제수 현황**
- **데이터 소스**: `ins_master_db.csv`의 소스필드
- **필터링**: "인스교제외" + "보험중개사 시험" 행수 카운트
- **표시**: 전체 보유 문제수 (예: 1,370개)
- **의미**: 무료버전(800개) vs 고급버전(1,370개) 구분

#### **2. 학습진도 현황**
- **기준점**: 사용자 등록 시점부터 데이터 수집
- **완료문제**: 실제 풀이한 모든 문제 수 합산
- **전체진도율**: 완료문제 ÷ 보유문제수 × 100
- **정답율**: 풀이한 문제 중 정답 비율 (기존 "오늘의진도율" 수정)

#### **3. 금일 학습현황 (별도 박스)**
- **오늘 총 문제수**: 당일 풀이한 문제 수
- **오늘 정답수**: 당일 정답 문제 수  
- **오늘 정답율**: 당일 정답 ÷ 당일 총 문제수 × 100

### **[기본학습] 모든 모드 공통 통계**

#### **4. 기본학습 통계 (이어풀기/처음풀기/랜덤풀기)**
- **누적현황**: 총 문제수, 총 정답수, 총 정답율
- **금일현황**: 금일 문제수, 금일 정답수, 금일 정답율
- **표시 방식**: 2줄 구조로 명확 구분

### **[대분류학습] 카테고리별 상세 통계**

#### **5. 대분류학습 전체 통계 (상단 제목 우측)**
- **위치**: "대분류학습" 제목 우측 표시
- **내용**: 전체 대분류학습 문제수, 정답수, 정답율

#### **6. 개별 카테고리 통계 (각 카테고리 클릭 시)**
각 카테고리(재산보험, 특종보험, 배상책임보험, 해상보험):
- **누적현황**: 해당 카테고리 총 문제수, 총 정답수, 총 정답율
- **금일현황**: 해당 카테고리 금일 문제수, 금일 정답수, 금일 정답율

### **[핵심 혁신] 시험 기준 점수 예측**

#### **7. 실시간 합격 예측 시스템**
- **시험 기준**: 각 과목 40점 이상 + 전체 평균 60점 이상
- **점수 환산**: 정답률을 100점 기준 점수로 환산
- **표시 내용**: 
  - 현재 예상 점수 (전체 평균)
  - 과목별 점수 및 합격선 통과 여부
  - 합격 가능성 (예: 85%)
  - 부족한 과목 및 필요 점수

### **[기술 요구사항] 데이터 연속성**

#### **8. 사용자 등록 기반 데이터 수집**
- **절대 시작점**: 사용자 등록 순간부터 모든 데이터 수집
- **크로스 플랫폼**: PC, 모바일, 태블릿 모든 기기에서 동일한 통계
- **실시간 동기화**: 어떤 기기에서든 학습 시 즉시 반영
- **초기화 기능**: 설정에서 초기화 시 모든 데이터 리셋

---

## 📅 **Week2 현실적 개발 일정**

### **Day 8 (2025.08.10): 핵심 통계 엔진 설계 및 구현**

#### **오전: 통계 데이터 구조 설계**
```javascript
// 조대표님 요구사항 기반 통계 스키마
const STATISTICS_SCHEMA = {
    meta: {
        userId: "user_12345",
        userName: "김학생",
        registeredAt: "2025-08-10T09:00:00+09:00", // 절대 시작점
        lastUpdated: "2025-08-10T15:30:00+09:00"
    },
    
    // 1. 보유문제수 현황
    questionCounts: {
        total: 1370,        // ins_master_db.csv 전체
        bySource: {
            "인스교재": 800,
            "중개사시험": 570
        }
    },
    
    // 2-3. 학습진도 및 금일 현황
    progress: {
        cumulative: {
            attempted: 0,    // 총 풀이한 문제수
            correct: 0,      // 총 정답수
            accuracy: 0      // 총 정답률
        },
        daily: {
            "2025-08-10": {
                attempted: 0,
                correct: 0, 
                accuracy: 0
            }
        }
    },
    
    // 4-6. 모드별 및 카테고리별 통계
    modes: {
        basic: {
            cumulative: { attempted: 0, correct: 0, accuracy: 0 },
            daily: { "2025-08-10": { attempted: 0, correct: 0, accuracy: 0 } }
        },
        largeCategory: {
            cumulative: { attempted: 0, correct: 0, accuracy: 0 },
            daily: { "2025-08-10": { attempted: 0, correct: 0, accuracy: 0 } },
            categories: {
                "재산보험": { 
                    cumulative: { attempted: 0, correct: 0, accuracy: 0 },
                    daily: { "2025-08-10": { attempted: 0, correct: 0, accuracy: 0 } }
                },
                "특종보험": { /* 동일 구조 */ },
                "배상책임보험": { /* 동일 구조 */ },
                "해상보험": { /* 동일 구조 */ }
            }
        }
    },
    
    // 7. 시험 기준 점수 예측
    examPrediction: {
        subjectScores: {
            "재산보험": 0,
            "특종보험": 0, 
            "배상책임보험": 0,
            "해상보험": 0
        },
        overallAverage: 0,
        passLikelihood: 0,
        recommendation: ""
    }
};
```

#### **오후: 보유문제수 계산 및 기본 통계 엔진**
```javascript
// 1. 보유문제수 현황 계산
class QuestionCountManager {
    calculateTotalQuestions(csvData) {
        const filtered = csvData.filter(row => 
            row.SOURCE && 
            (row.SOURCE.includes('인스교재') || row.SOURCE.includes('중개사시험'))
        );
        
        return {
            total: filtered.length,
            bySource: {
                "인스교재": filtered.filter(row => row.SOURCE.includes('인스교재')).length,
                "중개사시험": filtered.filter(row => row.SOURCE.includes('중개사시험')).length
            }
        };
    }
}

// 2-3. 진도 및 금일 통계 관리
class ProgressManager {
    updateProgress(userId, isCorrect) {
        const today = this.getTodayKey();
        
        // 누적 통계 업데이트
        this.incrementStat(userId, 'progress.cumulative.attempted');
        if (isCorrect) {
            this.incrementStat(userId, 'progress.cumulative.correct');
        }
        
        // 금일 통계 업데이트
        this.incrementDailyStat(userId, today, 'attempted');
        if (isCorrect) {
            this.incrementDailyStat(userId, today, 'correct');
        }
        
        // 정답률 재계산
        this.recalculateAccuracy(userId);
    }
}
```

### **Day 9 (2025.08.11): 시험 기준 점수 예측 시스템**

#### **오전: 점수 환산 엔진 구현**
```javascript
// 7. 실시간 합격 예측 시스템
class ExamScorePredictor {
    calculateSubjectScore(userId, subject) {
        const subjectStats = this.getSubjectStatistics(userId, subject);
        if (subjectStats.attempted === 0) return 0;
        
        const accuracy = subjectStats.correct / subjectStats.attempted;
        return Math.round(accuracy * 100); // 정답률을 100점 기준으로 환산
    }
    
    predictPassLikelihood(userId) {
        const subjects = ['재산보험', '특종보험', '배상책임보험', '해상보험'];
        const subjectScores = {};
        
        // 각 과목별 점수 계산
        subjects.forEach(subject => {
            subjectScores[subject] = this.calculateSubjectScore(userId, subject);
        });
        
        // 전체 평균 계산
        const scores = Object.values(subjectScores);
        const overallAverage = scores.reduce((sum, score) => sum + score, 0) / scores.length;
        
        // 합격 기준 검증
        const subjectPass = scores.every(score => score >= 40);
        const overallPass = overallAverage >= 60;
        
        return {
            subjectScores: subjectScores,
            overallAverage: Math.round(overallAverage),
            passLikelihood: subjectPass && overallPass ? 0.95 : 0.3,
            failingSubjects: subjects.filter(subject => subjectScores[subject] < 40),
            recommendation: this.generateRecommendation(subjectScores, overallAverage)
        };
    }
}
```

#### **오후: 모드별 통계 관리 시스템**
```javascript
// 4-6. 모드별 및 카테고리별 통계
class ModeStatisticsManager {
    updateModeStatistics(userId, mode, category, isCorrect) {
        const today = this.getTodayKey();
        
        // 기본학습 통계 업데이트
        if (mode === 'basic') {
            this.updateBasicModeStats(userId, today, isCorrect);
        }
        
        // 대분류학습 통계 업데이트  
        if (mode === 'largeCategory') {
            this.updateLargeCategoryStats(userId, today, category, isCorrect);
        }
    }
    
    updateBasicModeStats(userId, today, isCorrect) {
        // 기본학습 누적 통계
        this.incrementStat(userId, 'modes.basic.cumulative.attempted');
        if (isCorrect) {
            this.incrementStat(userId, 'modes.basic.cumulative.correct');
        }
        
        // 기본학습 금일 통계
        this.incrementDailyStat(userId, today, 'modes.basic.daily', 'attempted');
        if (isCorrect) {
            this.incrementDailyStat(userId, today, 'modes.basic.daily', 'correct');
        }
    }
}
```

### **Day 10 (2025.08.12): 사용자 등록 및 데이터 분리 시스템**

#### **오전: 사용자 등록 시스템 구현**
```javascript
// 8. 사용자 등록 = 학습 여정 시작점
class UserRegistrationSystem {
    registerUser(userName, phone, examDate) {
        const registrationMoment = new Date().toISOString();
        const userId = this.generateUserId(userName, phone);
        
        const userProfile = {
            userId: userId,
            userName: userName,
            phone: phone,
            examDate: examDate,
            registeredAt: registrationMoment, // 모든 통계의 절대 기준점
            
            // 초기 통계 구조 생성
            statistics: this.initializeStatistics(registrationMoment),
            
            // 동기화 상태
            lastSyncAt: registrationMoment,
            devices: [this.getCurrentDevice()]
        };
        
        // 로컬 및 클라우드 저장
        this.saveUserProfile(userProfile);
        return userId;
    }
    
    initializeStatistics(registrationTime) {
        return {
            ...STATISTICS_SCHEMA,
            meta: {
                ...STATISTICS_SCHEMA.meta,
                registeredAt: registrationTime,
                lastUpdated: registrationTime
            }
        };
    }
}
```

#### **오후: 다중 사용자 데이터 분리**
```javascript
// 사용자별 독립적 데이터 관리
class MultiUserDataManager {
    getUserStatistics(userId) {
        const userData = this.loadUserData(userId);
        return userData ? userData.statistics : this.createDefaultStatistics();
    }
    
    updateUserStatistics(userId, updateData) {
        const userData = this.loadUserData(userId);
        if (!userData) {
            console.error(`사용자 ${userId} 데이터를 찾을 수 없습니다`);
            return false;
        }
        
        // 통계 업데이트
        userData.statistics = this.mergeStatistics(userData.statistics, updateData);
        userData.statistics.meta.lastUpdated = new Date().toISOString();
        
        // 저장
        this.saveUserData(userId, userData);
        
        // 다른 기기에 동기화 신호 전송
        this.triggerSync(userId);
        
        return true;
    }
}
```

### **Day 11 (2025.08.13): 화면 통계 표시 및 UI 연동**

#### **오전: 대문 통계 박스 구현**
```javascript
// 대문 3개 통계 박스 표시
class HomeStatisticsDisplay {
    updateHomeStatistics(userId) {
        const stats = this.getUserStatistics(userId);
        const prediction = this.getExamPrediction(userId);
        
        // 1. 보유문제수 현황
        this.updateQuestionCountBox(stats.questionCounts);
        
        // 2. 학습진도 현황  
        this.updateProgressBox(stats.progress.cumulative, stats.questionCounts.total);
        
        // 3. 금일 학습현황
        const today = this.getTodayKey();
        this.updateTodayBox(stats.progress.daily[today] || {attempted: 0, correct: 0, accuracy: 0});
        
        // 시험 기준 점수 표시
        this.updateExamPredictionBox(prediction);
    }
    
    updateQuestionCountBox(questionCounts) {
        document.getElementById('total-questions').textContent = questionCounts.total;
        document.getElementById('question-breakdown').innerHTML = 
            `인스교재: ${questionCounts.bySource.인스교재}개 | 중개사시험: ${questionCounts.bySource.중개사시험}개`;
    }
    
    updateExamPredictionBox(prediction) {
        const container = document.getElementById('exam-prediction');
        container.innerHTML = `
            <h3>📊 현재 예상 성적</h3>
            <div class="score-summary">
                <span class="overall-score">전체 평균: ${prediction.overallAverage}점</span>
                <span class="pass-status ${prediction.passLikelihood > 0.5 ? 'pass' : 'fail'}">
                    ${prediction.passLikelihood > 0.5 ? '✅ 합격권' : '❌ 미달'}
                </span>
            </div>
            <div class="subject-scores">
                ${Object.entries(prediction.subjectScores).map(([subject, score]) => 
                    `<div class="subject-score ${score >= 40 ? 'pass' : 'fail'}">
                        ${subject}: ${score}점 ${score >= 40 ? '✅' : '❌'}
                    </div>`
                ).join('')}
            </div>
        `;
    }
}
```

#### **오후: 기본학습/대분류학습 통계 표시**
```javascript
// 모드별 통계 표시
class ModeStatisticsDisplay {
    updateBasicLearningStats(userId) {
        const stats = this.getUserStatistics(userId);
        const basicStats = stats.modes.basic;
        const today = this.getTodayKey();
        
        // 누적 현황
        document.getElementById('basic-cumulative-total').textContent = basicStats.cumulative.attempted;
        document.getElementById('basic-cumulative-correct').textContent = basicStats.cumulative.correct;
        document.getElementById('basic-cumulative-accuracy').textContent = `${basicStats.cumulative.accuracy}%`;
        
        // 금일 현황
        const todayStats = basicStats.daily[today] || {attempted: 0, correct: 0, accuracy: 0};
        document.getElementById('basic-daily-total').textContent = todayStats.attempted;
        document.getElementById('basic-daily-correct').textContent = todayStats.correct;
        document.getElementById('basic-daily-accuracy').textContent = `${todayStats.accuracy}%`;
    }
    
    updateLargeCategoryStats(userId, selectedCategory = null) {
        const stats = this.getUserStatistics(userId);
        const categoryStats = stats.modes.largeCategory;
        
        // 전체 대분류학습 통계 (상단 제목 우측)
        document.getElementById('large-category-total-stats').innerHTML = 
            `전체: ${categoryStats.cumulative.attempted}문제 | 정답: ${categoryStats.cumulative.correct}개 | 정답률: ${categoryStats.cumulative.accuracy}%`;
        
        // 선택된 카테고리 상세 통계
        if (selectedCategory && categoryStats.categories[selectedCategory]) {
            this.displayCategoryDetailStats(selectedCategory, categoryStats.categories[selectedCategory]);
        }
    }
}
```

### **Day 12 (2025.08.14): 크로스 플랫폼 동기화 기본 구현**

#### **오전: 기본 클라우드 동기화**
```javascript
// 8. 크로스 플랫폼 기본 동기화
class BasicSyncManager {
    // 학습 행동 발생 시 즉시 동기화
    onLearningAction(userId, actionData) {
        // 로컬 업데이트
        this.updateLocalStatistics(userId, actionData);
        
        // 클라우드 동기화 (기본 수준)
        this.syncToCloud(userId, actionData);
        
        // UI 업데이트
        this.refreshAllStatisticsDisplays(userId);
    }
    
    syncToCloud(userId, actionData) {
        const syncData = {
            userId: userId,
            timestamp: new Date().toISOString(),
            device: this.getCurrentDevice(),
            action: actionData
        };
        
        // 간단한 클라우드 저장 (LocalStorage 기반으로 시작)
        this.saveToCloudStorage(syncData);
    }
    
    // 앱 시작 시 최신 데이터 로드
    loadLatestData(userId) {
        const cloudData = this.loadFromCloudStorage(userId);
        const localData = this.loadFromLocalStorage(userId);
        
        // 간단한 타임스탬프 기반 병합
        const latestData = this.mergeByTimestamp(cloudData, localData);
        
        return latestData;
    }
}
```

#### **오후: 전체 시스템 통합 테스트**
```javascript
// 통합 테스트 시나리오
class Week2IntegrationTest {
    async testCompleteStatisticsFlow() {
        console.log('=== Week2 통합 테스트 시작 ===');
        
        // 1. 사용자 등록 테스트
        const userId = await this.testUserRegistration();
        
        // 2. 기본 통계 테스트
        await this.testBasicStatistics(userId);
        
        // 3. 시험 점수 예측 테스트
        await this.testExamScorePrediction(userId);
        
        // 4. 다중 사용자 테스트
        await this.testMultiUserSeparation();
        
        // 5. 동기화 테스트
        await this.testBasicSync(userId);
        
        console.log('=== Week2 통합 테스트 완료 ===');
    }
}
```

### **Day 13 (2025.08.15): 최종 테스트 및 조대표님 검수**

#### **오전: 성능 테스트 및 최적화**
- **다중 사용자 동시 접속 테스트** (10명)
- **통계 계산 성능 최적화**
- **UI 반응성 개선**

#### **오후: 조대표님 최종 검수**
- **8개 핵심 통계 기능 완전 동작 확인**
- **시험 기준 점수 예측 정확성 검증**
- **사용자 등록부터 학습까지 전체 플로우 테스트**---

## 🎯 **Week2 완료 기준 (현실적 목표)**

### **필수 완료 조건**
```
✅ [대문] 3개 통계 박스 완벽 동작
   - 보유문제수 현황 (CSV 필터링 기반)
   - 학습진도 현황 (등록일 기준 진도율/정답률)
   - 금일 학습현황 (당일 전용 박스)

✅ [기본학습] 누적/금일 통계 구분 표시
   - 모든 기본학습 모드 공통 적용
   - 2줄 구조로 명확한 구분

✅ [대분류학습] 전체 + 카테고리별 통계
   - 상단 전체 통계 표시
   - 각 카테고리별 누적/금일 구분

✅ [혁신 기능] 시험 기준 점수 예측
   - 정답률을 100점 기준 점수로 환산
   - 과목별 40점/전체 60점 합격 기준 적용
   - 실시간 합격 가능성 표시

✅ [사용자 시스템] 기본 다중 사용자 지원
   - 사용자 등록 = 학습 데이터 수집 시작점
   - 사용자별 독립적 통계 관리
   - 10명 동시 접속 지원

✅ [데이터 연속성] 기본 크로스 플랫폼 동기화
   - 모든 기기에서 동일한 통계 표시
   - 사용자 등록 시점부터 연속성 보장
```

### **Week2 품질 기준**
- **정확성**: 모든 통계 수치 실시간 정확 계산
- **안정성**: 브라우저 새로고침 후에도 데이터 보존
- **사용성**: 조대표님이 직접 사용 가능한 완성도
- **확장성**: Week3에서 고도화 가능한 구조
- **성능**: 통계 계산 및 표시 < 500ms

---

## 📊 **Week2 vs Week3 역할 분담**

### **Week2에서 완성할 것 (핵심 기능)**
```
✅ 조대표님 8개 핵심 통계 요구사항 100% 구현
✅ 시험 기준 점수 예측 (기본 수준)
✅ 사용자 등록 및 기본 다중 사용자
✅ 기본적인 크로스 플랫폼 동기화
✅ 시즌1 기능 100% 보존
```

### **Week3에서 고도화할 것 (GEP 비전)**
```
🔄 망각곡선 기반 지능형 학습 (Week2에서는 기본 수준)
🔄 고급 개인화 학습 패턴 분석
🔄 완벽한 클라우드 동기화 시스템
🔄 기출문제 파생 시스템 (Week2에서는 기본 구조만)
🔄 확장 가능한 범용 아키텍처 (다른 시험 적용)
🔄 모바일 최적화 및 UI/UX 개선
```

---

## 🛠️ **기술 구현 세부사항**

### **데이터 구조 (Week2 수준)**
```javascript
// 현실적이고 확장 가능한 구조
const WEEK2_STATISTICS_STRUCTURE = {
    // 사용자 메타 정보
    userInfo: {
        userId: "user_12345",
        userName: "김학생", 
        phone: "010-1234-5678",
        examDate: "2025-12-15",
        registeredAt: "2025-08-10T09:00:00+09:00"
    },
    
    // 보유문제수 (CSV 분석 결과)
    questionDatabase: {
        total: 1370,
        internalTextbook: 800,  // 인스교재
        brokerExam: 570,        // 중개사시험
        lastUpdated: "2025-08-10T09:00:00+09:00"
    },
    
    // 학습 진도 (등록일 기준)
    learningProgress: {
        totalAttempted: 0,      // 총 풀이한 문제
        totalCorrect: 0,        // 총 정답 수
        overallAccuracy: 0,     // 전체 정답률
        progressRate: 0,        // 진도율 (풀이문제/전체문제)
        
        // 일별 학습 기록
        dailyRecords: {
            "2025-08-10": {
                attempted: 0,
                correct: 0,
                accuracy: 0
            }
        }
    },
    
    // 모드별 통계
    modeStatistics: {
        basicLearning: {
            cumulative: { attempted: 0, correct: 0, accuracy: 0 },
            daily: { "2025-08-10": { attempted: 0, correct: 0, accuracy: 0 } }
        },
        categoryLearning: {
            overall: {
                cumulative: { attempted: 0, correct: 0, accuracy: 0 },
                daily: { "2025-08-10": { attempted: 0, correct: 0, accuracy: 0 } }
            },
            categories: {
                "재산보험": {
                    cumulative: { attempted: 0, correct: 0, accuracy: 0 },
                    daily: { "2025-08-10": { attempted: 0, correct: 0, accuracy: 0 } }
                }
                // 특종보험, 배상책임보험, 해상보험 동일 구조
            }
        }
    },
    
    // 시험 기준 예상 성적
    examPrediction: {
        subjects: {
            "재산보험": { score: 0, attempted: 0, status: "insufficient" },
            "특종보험": { score: 0, attempted: 0, status: "insufficient" },
            "배상책임보험": { score: 0, attempted: 0, status: "insufficient" },
            "해상보험": { score: 0, attempted: 0, status: "insufficient" }
        },
        overall: {
            averageScore: 0,
            passLikelihood: 0,
            status: "insufficient", // insufficient/at_risk/likely/confident
            recommendation: ""
        },
        lastCalculated: "2025-08-10T09:00:00+09:00"
    }
};
```

### **핵심 클래스 설계 (Week2 수준)**
```javascript
// 1. 통계 관리자 (메인 클래스)
class Week2StatisticsManager {
    constructor() {
        this.userManager = new UserManager();
        this.progressTracker = new ProgressTracker();
        this.scorePredictor = new BasicScorePredictor();
        this.displayManager = new StatisticsDisplayManager();
    }
    
    // 학습 행동 발생 시 호출
    onQuestionAnswered(userId, questionData, userAnswer, isCorrect) {
        // 1. 진도 업데이트
        this.progressTracker.updateProgress(userId, questionData, isCorrect);
        
        // 2. 모드별 통계 업데이트
        this.updateModeStatistics(userId, questionData.mode, questionData.category, isCorrect);
        
        // 3. 시험 점수 재계산
        this.scorePredictor.recalculateScores(userId);
        
        // 4. 화면 업데이트
        this.displayManager.refreshAllDisplays(userId);
        
        // 5. 데이터 동기화
        this.syncUserData(userId);
    }
}

// 2. 사용자 관리자
class UserManager {
    registerUser(userName, phone, examDate) {
        const userId = this.generateUserId(userName, phone);
        const registrationTime = new Date().toISOString();
        
        const userProfile = {
            ...WEEK2_STATISTICS_STRUCTURE.userInfo,
            userId,
            userName,
            phone,
            examDate,
            registeredAt: registrationTime
        };
        
        // 초기 통계 구조 생성
        const initialStats = this.createInitialStatistics(registrationTime);
        
        // 저장
        this.saveUserData(userId, { profile: userProfile, statistics: initialStats });
        
        return userId;
    }
}

// 3. 점수 예측기 (기본 수준)
class BasicScorePredictor {
    calculateSubjectScore(userId, subjectName) {
        const subjectStats = this.getSubjectStatistics(userId, subjectName);
        
        if (subjectStats.attempted < 10) {
            return { score: 0, status: "insufficient", message: "더 많은 문제를 풀어보세요" };
        }
        
        const accuracy = subjectStats.correct / subjectStats.attempted;
        const score = Math.round(accuracy * 100);
        
        return {
            score: score,
            status: score >= 40 ? "pass" : "fail",
            message: score >= 40 ? "합격선 통과" : `${40 - score}점 더 필요`
        };
    }
    
    predictOverallPass(userId) {
        const subjects = ['재산보험', '특종보험', '배상책임보험', '해상보험'];
        const subjectResults = subjects.map(subject => this.calculateSubjectScore(userId, subject));
        
        const validScores = subjectResults.filter(result => result.status !== "insufficient");
        
        if (validScores.length < 4) {
            return {
                status: "insufficient",
                message: "모든 과목에서 충분한 문제를 풀어주세요",
                passLikelihood: 0
            };
        }
        
        const allSubjectsPass = validScores.every(result => result.score >= 40);
        const averageScore = validScores.reduce((sum, result) => sum + result.score, 0) / validScores.length;
        const overallPass = averageScore >= 60;
        
        return {
            subjectScores: subjectResults,
            averageScore: Math.round(averageScore),
            allSubjectsPass: allSubjectsPass,
            overallPass: overallPass,
            passLikelihood: allSubjectsPass && overallPass ? 0.85 : 0.3,
            status: allSubjectsPass && overallPass ? "likely" : "at_risk"
        };
    }
}
```

---

## 🚀 **Week2 성공 지표**

### **기술적 성공**
- ✅ **핵심 기능**: 조대표님 8개 요구사항 100% 구현
- ✅ **성능**: 통계 계산 < 500ms, 10명 동시 접속 지원
- ✅ **안정성**: 데이터 손실 0%, 99% 가동률
- ✅ **호환성**: 시즌1 기능 100% 보존

### **사용자 경험 성공**
- ✅ **직관성**: 조대표님이 즉시 이해 가능한 통계
- ✅ **동기부여**: 실시간 합격 가능성으로 학습 의욕 증진
- ✅ **신뢰성**: 시험 기준 정확한 점수 예측
- ✅ **연속성**: 모든 기기에서 일관된 경험

### **비즈니스 성공**
- ✅ **차별화**: 시험 기준 점수 예측으로 경쟁 우위
- ✅ **확장성**: Week3 고도화를 위한 견고한 기반
- ✅ **검증**: 이상업님 + 조대표님 사용 승인
- ✅ **준비**: 상용 서비스 런칭 준비 완료

---

## 🎯 **Week3 준비사항**

### **Week2 → Week3 인계**
```
완성된 핵심 자산:
✅ 8개 통계 기능 완벽 동작
✅ 시험 기준 점수 예측 엔진
✅ 기본 다중 사용자 시스템
✅ 확장 가능한 데이터 구조

Week3 고도화 방향:
🔄 UI/UX 개선 및 모바일 최적화
🔄 고급 학습 알고리즘 적용
🔄 완벽한 클라우드 동기화
🔄 베타 테스트 및 사용자 피드백
🔄 상용 서비스 런칭 준비
```

---

## 📋 **최종 실행 준비**

### **내일(Day 8) 즉시 착수 항목**
```
오전 9시: 통계 데이터 구조 최종 설계
오전 11시: 보유문제수 계산 로직 구현
오후 2시: 기본 진도 추적 시스템 구현
오후 4시: 사용자 등록 시스템 구현
오후 6시: Day 8 완료 보고
```

### **조대표님 확인 요청**
1. **통계 기능 8개 요구사항** 누락 없는지 최종 확인
2. **Week2 현실적 목표 설정** 적절한지 승인
3. **Week3 고도화 방향** 동의 여부
4. **내일 개발 착수** 승인

---

## 🎊 **Week2 성공 선언**

**시즌4 Week2는 조대표님의 핵심 통계 요구사항을 100% 구현하여, 시즌1을 뛰어넘는 차별화된 학습 플랫폼의 기반을 완성합니다.**

### **Week2 완료 시 달성 목표**
- ✅ **통계 혁신**: 시험 기준 정확한 점수 예측
- ✅ **사용자 경험**: 실시간 학습 진도 및 합격 가능성
- ✅ **기술 기반**: 다중 사용자 및 크로스 플랫폼 지원
- ✅ **비즈니스 준비**: 상용 서비스 런칭 기반 완성

**Week2 성공으로 시즌4는 명실상부한 차세대 학습 플랫폼이 됩니다!**

---

**문서 승인:**
- **작성자**: 노팀장 ✅ (2025.08.09 23:50 KST)
- **현실적 목표**: 조대표님 요구사항 100% 반영
- **최종 승인**: 조대표님 ⏳

**조대표님 승인 완료 시 내일(Day 8) 오전 9시부터 즉시 개발 착수합니다.**

*시즌4 Week2 - 조대표님의 비전을 현실로 만드는 결정적인 일주일이 시작됩니다.*

---

## 📊 **통계 기능 개발 상세 계획**

### **개발 접근 방식**
```python
class StatsAdvanced:
    def calculate_overall_progress(self):
        """전체 학습 진도 상세 분석"""
        
    def analyze_category_performance(self):
        """카테고리별 성과 분석"""
        
    def track_learning_patterns(self):
        """학습 패턴 추적 및 분석"""
        
    def generate_weakness_report(self):
        """취약점 분석 리포트"""
        
    def calculate_time_efficiency(self):
        """학습 시간 효율성 분석"""
```

### **데이터 구조 (확장)**
```json
{
  "user_stats": {
    "김학생": {
      "basic_stats": {
        "total_questions": 100,
        "correct_count": 75,
        "wrong_count": 25,
        "accuracy_rate": 75.0
      },
      "advanced_stats": {
        "category_performance": {...},
        "time_analysis": {...},
        "learning_patterns": {...},
        "weakness_areas": {...}
      }
    }
  }
}
```

---

## 🚨 **즉시 필요한 조대표님 Input**

### **통계 기능 요구사항 목록**
```
조대표님께서 원하시는 통계 기능을 구체적으로 말씀해 주세요:

1. 학습 진도 관련:
   - [구체적 요구사항]

2. 성과 분석 관련:
   - [구체적 요구사항]

3. 시간 추적 관련:
   - [구체적 요구사항]

4. 리포트 기능 관련:
   - [구체적 요구사항]

5. 기타 필요한 기능:
   - [구체적 요구사항]
```

---

## 🔄 **Week2 완료 조건 (수정)**

### **최소 성공 조건 (우선순위 반영)**
```
✅ stats_advanced.py (200-300줄) - 고도화된 통계 시스템
✅ user_basic.py (150줄) - 기본 사용자 구분
✅ 조대표님 통계 기능 요구사항 100% 구현
✅ 시즌1 수준 이상의 통계 기능 완성
✅ 10명 동시 접속 테스트 통과
```

### **Week2 성공 기준 (수정)**
- **기술적**: 고도화된 통계 + 다중 사용자 지원
- **사업적**: 시즌1 대비 향상된 사용자 경험
- **조대표님 만족도**: 통계 기능 요구사항 100% 충족

---

## 🎯 **현실적 Week2 성공 선언 (수정)**

**AICU 시즌4 Week2는 조대표님 요구사항을 최우선으로 하는 품질 중심 개발입니다.**

### **수정된 달성 목표**
- ✅ **통계 기능**: 시즌1 수준 이상의 고도화된 통계 시스템
- ✅ **사용자 시스템**: 다중 사용자 지원 기반 구축
- ✅ **품질 보장**: 조대표님 요구사항 100% 반영

**Week2 성공으로 조대표님이 만족하는 통계 시스템을 완성합니다!**

---

## 📋 **즉시 실행 계획**

### **금일(Day 8) 즉시 진행사항**
1. **조대표님 통계 기능 요구사항 청취** (지금 진행)
2. **요구사항 분석 및 우선순위 결정**
3. **개발 일정 최종 확정**
4. **내일부터 즉시 개발 착수**

### **조대표님께 요청드리는 사항**
**지금 즉시 원하시는 통계 기능 목록을 구체적으로 말씀해 주세요.**

---

**문서 승인:**
- **작성자**: 노팀장 ✅ (2025.08.09 22:35 KST)
- **긴급 수정**: 통계 기능 요구사항 반영 완료
- **최종 승인**: 조대표님 요구사항 확인 후 즉시 진행

*조대표님의 통계 기능 요구사항이 Week2의 최우선 과제입니다.*


조대표님, **시즌4 WEEK2 개발세부계획서 V2.0 (최종)**을 완성했습니다.

**🚨 핵심 정리:**

## **현실적이고 완성 가능한 Week2 목표**

### **📊 조대표님 8개 핵심 요구사항 100% 구현**
1. ✅ **보유문제수 현황** (CSV 필터링)
2. ✅ **학습진도 현황** (등록일 기준)  
3. ✅ **금일 학습현황** (별도 박스)
4. ✅ **기본학습 통계** (누적/금일 구분)
5. ✅ **대분류학습 전체** (상단 표시)
6. ✅ **카테고리별 통계** (각 카테고리별)
7. ✅ **시험 기준 점수 예측** (40점/60점 기준)
8. ✅ **사용자 등록 기반** (데이터 수집 시작점)

### **🎯 Week2 vs Week3 역할 분담**
- **Week2**: 조대표님 요구사항 + 기본 다중사용자 (현실적)
- **Week3**: 고급 기능 + UI/UX + 상용화 준비 (GEP 비전)

### **📅 5일 개발 일정**
- **Day 8**: 통계 엔진 + 보유문제수 + 진도 계산
- **Day 9**: 시험 점수 예측 + 모드별 통계  
- **Day 10**: 사용자 등록 + 다중사용자 분리
- **Day 11**: 화면 표시 + UI 연동
- **Day 12**: 동기화 + 통합 테스트
- **Day 13**: 성능 테스트 + 조대표님 검수

### **🏆 Week2 완료 기준**
- ✅ 조대표님 8개 요구사항 완벽 동작
- ✅ 시험 기준 정확한 점수 예측  
- ✅ 10명 동시 접속 지원
- ✅ 시즌1 기능 100% 보존

**이제 정말로 현실적이고 완성 가능한 계획입니다!**

**조대표님, 내일(Day 8) 오전 9시부터 개발 착수해도 될까요?**

**현재 시각: 23:50 - 완벽한 타이밍입니다! 🚀**

