# 대분류 학습 기능 구현 계획서

**작성일**: 2025년 8월 11일 18:15 KST  
**작성자**: 노팀장  
**개발자**: 서대리  
**승인자**: 조대표님  
**작업 방식**: 레고 블록식 단계별 구현  
**목표**: 시즌1 대분류 학습 기능 완전 재현 (리팩토링 구조)

---

## 🎯 **프로젝트 개요**

### **구현 목표**
- **기존 기능**: 시즌1 index.html의 대분류 학습 기능 완전 재현
- **새로운 구조**: 리팩토링 구조로 모듈화하여 구현
- **재활용 극대화**: 기본학습 모듈 95% 재활용
- **품질 보장**: 기존 검증된 로직 활용으로 안정성 확보

### **핵심 차이점**
```
기본학습: 전체 789개 문제 순차/랜덤 출제
대분류학습: Layer1 기준 카테고리별 필터링 후 출제

4개 카테고리:
✅ 재산보험 (Layer1 = "재산보험")
✅ 특종보험 (Layer1 = "특종보험") 
✅ 배상책임보험 (Layer1 = "배상책임보험")
✅ 해상보험 (Layer1 = "해상보험")
```

### **재활용 가능 모듈 (95%)**
```
✅ 문제 표시 로직 → basic_learning_core.js 재활용
✅ 답안 처리 로직 → basic_learning_stats.js 재활용
✅ UI 컴포넌트 → basic_learning_ui.js 재활용
✅ 통계 계산 → 기존 로직 확장
✅ 네비게이션 → 100% 동일
```

---

## 📋 **레고 블록식 5단계 구현 계획**

### **🔹 1단계: 시즌1 기능 분석 및 설계 (30분)**

#### **작업 내용**
```
1-1. index.html 대분류 학습 코드 분석 (15분)
     - Layer1 필터링 로직 추출
     - 카테고리 선택 UI 분석
     - 데이터 흐름 매핑

1-2. 기본학습 모듈 재활용 계획 수립 (10분)
     - 재활용 가능한 함수 목록화
     - 수정 필요한 부분 식별
     - 신규 개발 범위 확정

1-3. 파일 구조 설계 (5분)
     - 리팩토링 원칙에 따른 파일명 설정
     - 모듈 간 의존성 설계
     - 300줄 이하 원칙 적용
```

#### **검증 기준**
- [ ] 4개 카테고리 정확히 식별
- [ ] Layer1 필터링 로직 완전 이해
- [ ] 재활용 모듈 95% 이상 확보
- [ ] 파일 구조 300줄 이하 설계

#### **산출물**
- `대분류_기능_분석_보고서.md`
- `재활용_모듈_매핑표.md`
- `파일_구조_설계서.md`

---

### **🔹 2단계: 카테고리 선택 UI 모듈 구현 (45분)**

#### **작업 내용**
```
2-1. 카테고리 선택 화면 HTML 생성 (20분)
     📄 large_category_selection.html (150줄)
     - 4개 카테고리 버튼 배치
     - 기본학습과 동일한 디자인 적용
     - 카테고리별 문제 개수 표시

2-2. 카테고리 선택 UI 로직 구현 (20분)
     📄 static/js/large_category_ui.js (120줄)
     - 카테고리 버튼 클릭 이벤트
     - 선택된 카테고리 하이라이트
     - 기본학습 UI 함수 재활용

2-3. 메인 템플릿 연결 (5분)
     📄 large_category_learning.html (120줄)
     - include 방식으로 모듈 연결
     - 기본 레이아웃 재활용
```

#### **검증 기준**
- [ ] 4개 카테고리 버튼 정상 표시
- [ ] 클릭 이벤트 정상 작동
- [ ] 기본학습과 동일한 UI/UX
- [ ] 모든 파일 300줄 이하

#### **테스트 방법**
```html
<!-- 브라우저에서 직접 테스트 -->
1. 카테고리 선택 화면 표시 확인
2. 각 버튼 클릭 시 반응 확인
3. 선택된 카테고리 시각적 피드백 확인
```

#### **산출물**
- `templates/large_category_selection.html` (150줄)
- `static/js/large_category_ui.js` (120줄)
- `templates/large_category_learning.html` (120줄)

---

### **🔹 3단계: 데이터 필터링 모듈 구현 (60분)**

#### **작업 내용**
```
3-1. Layer1 기준 필터링 함수 구현 (30분)
     📄 static/js/large_category_data_filter.js (180줄)
     - filterQuestionsByCategory() 함수
     - 카테고리별 문제 개수 계산
     - 기본학습 데이터 로딩 로직 재활용

3-2. 카테고리별 데이터 관리 (20분)
     - 선택된 카테고리 문제만 추출
     - 문제 순서 및 인덱스 관리
     - 진도 계산 로직 구현

3-3. API 연동 및 데이터 검증 (10분)
     - 789개 문제 중 카테고리별 분류
     - 각 카테고리 문제 개수 확인
     - 데이터 무결성 검증
```

#### **검증 기준**
- [ ] 각 카테고리별 정확한 필터링
- [ ] 문제 개수 정확성 100% 확인
- [ ] 성능 테스트 통과 (로딩 < 2초)
- [ ] Layer1 값 정확성 검증

#### **테스트 방법**
```javascript
// 브라우저 콘솔에서 테스트
console.log('재산보험 문제 수:', filterQuestionsByCategory('재산보험').length);
console.log('특종보험 문제 수:', filterQuestionsByCategory('특종보험').length);
console.log('배상책임보험 문제 수:', filterQuestionsByCategory('배상책임보험').length);
console.log('해상보험 문제 수:', filterQuestionsByCategory('해상보험').length);
```

#### **산출물**
- `static/js/large_category_data_filter.js` (180줄)
- `카테고리별_문제_현황_보고서.md`

---

### **🔹 4단계: 핵심 로직 통합 및 완성 (45분)**

#### **작업 내용**
```
4-1. 메인 로직 모듈 구현 (25분)
     📄 static/js/large_category_main.js (200줄)
     - 기본학습 core 로직 재활용
     - selectLargeCategoryMode() 함수
     - 카테고리별 세션 관리
     - 모든 기본 기능 연결

4-2. 통계 모듈 확장 (15분)
     📄 static/js/large_category_stats.js (150줄)
     - 기본학습 통계 로직 재활용
     - 카테고리별 독립 통계
     - 진도율 계산 (카테고리 기준)
     - 정답률 관리

4-3. Flask 라우트 연결 (5분)
     - app_v2.1.py에 라우트 추가
     - /large-category-learning 엔드포인트
     - 템플릿 렌더링 설정
```

#### **검증 기준**
- [ ] 모든 기본 기능 정상 작동
- [ ] 카테고리별 독립적 진도 관리
- [ ] 통계 정확성 100% 검증
- [ ] 기본학습과 동일한 사용성

#### **테스트 방법**
```
전체 기능 테스트:
1. 카테고리 선택 → 문제 로딩
2. 문제 풀이 → 정답/오답 확인
3. 다음 문제 → 진도 확인
4. 통계 표시 → 정확성 확인
5. 세션 저장 → 복원 확인
```

#### **산출물**
- `static/js/large_category_main.js` (200줄)
- `static/js/large_category_stats.js` (150줄)
- Flask 라우트 추가 완료

---

### **🔹 5단계: 통합 테스트 및 시즌1 대조 검증 (30분)**

#### **작업 내용**
```
5-1. 전체 기능 통합 테스트 (15분)
     - 4개 카테고리 모두 테스트
     - 모든 학습 모드 검증
     - 크로스 브라우저 테스트
     - 모바일 반응형 확인

5-2. 시즌1 기능 대조 검증 (10분)
     - index.html 기능과 100% 대조
     - 사용자 경험 동일성 확인
     - 성능 비교 (로딩 속도)
     - 데이터 정확성 대조

5-3. 최종 검수 및 문서화 (5분)
     - 모든 파일 300줄 이하 확인
     - 코드 품질 점검
     - 완료 보고서 작성
```

#### **검증 기준**
- [ ] 4개 카테고리 모두 완벽 작동
- [ ] 시즌1 기능 100% 재현
- [ ] 성능 기준 달성 (로딩 < 2초)
- [ ] 사용자 경험 동일성 확보

#### **최종 테스트 체크리스트**
```
□ 재산보험 카테고리 선택 → 문제풀이 완료
□ 특종보험 카테고리 선택 → 문제풀이 완료
□ 배상책임보험 카테고리 선택 → 문제풀이 완료
□ 해상보험 카테고리 선택 → 문제풀이 완료
□ 카테고리별 통계 정확성 확인
□ 카테고리별 진도 독립성 확인
□ 기본학습과 UI/UX 동일성 확인
□ 모든 키보드 단축키 작동 확인
□ 세션 저장/복원 정상 작동
□ 모바일 반응형 정상 표시
```

#### **산출물**
- `대분류_학습_기능_완성_보고서.md`
- `시즌1_기능_대조_검증서.md`
- `성능_테스트_결과서.md`

---

## 📊 **최종 파일 구조**

### **대분류 학습 전용 모듈 (신규 생성)**
```
📁 templates/
├── 📄 large_category_learning.html (120줄) ← 메인 템플릿
└── 📄 large_category_selection.html (150줄) ← 카테고리 선택

📁 static/js/
├── 📄 large_category_main.js (200줄) ← 메인 로직
├── 📄 large_category_data_filter.js (180줄) ← 데이터 필터링
├── 📄 large_category_ui.js (120줄) ← UI 제어
└── 📄 large_category_stats.js (150줄) ← 통계 관리
```

### **재활용 모듈 (기존 활용)**
```
📁 static/js/ (기본학습에서 재활용)
├── 📄 basic_learning_core.js → 핵심 로직 함수 재활용
├── 📄 basic_learning_ui.js → UI 컴포넌트 함수 재활용
└── 📄 basic_learning_stats.js → 통계 계산 함수 재활용
```

### **Flask 라우트 추가**
```python
# app_v2.1.py에 추가
@app.route('/large-category-learning')
def large_category_learning():
    return render_template('large_category_learning.html')
```

---

## ⏰ **작업 일정 및 마일스톤**

### **총 소요시간: 3.5시간**
```
1단계: 분석 및 설계     → 30분 (완료 목표: +30분)
2단계: UI 모듈 구현     → 45분 (완료 목표: +1시간 15분)
3단계: 데이터 필터링    → 60분 (완료 목표: +2시간 15분)
4단계: 로직 통합       → 45분 (완료 목표: +3시간)
5단계: 테스트 검증     → 30분 (완료 목표: +3시간 30분)
```

### **일일 마일스톤**
- **1-2시간 후**: UI 모듈 완성, 카테고리 선택 가능
- **2-3시간 후**: 데이터 필터링 완성, 카테고리별 문제 로딩
- **3-3.5시간 후**: 전체 기능 완성, 시즌1 수준 달성

---

## 🚨 **품질 관리 기준**

### **코드 품질**
- ✅ 모든 파일 300줄 이하 (리팩토링 원칙 준수)
- ✅ 함수명 명확성 (camelCase 사용)
- ✅ 주석 충분성 (핵심 로직 설명)
- ✅ 에러 처리 완비

### **기능 품질**
- ✅ 시즌1 기능 100% 재현
- ✅ 4개 카테고리 모두 정상 작동
- ✅ 기본학습과 동일한 사용성
- ✅ 데이터 정확성 100% 보장

### **성능 품질**
- ✅ 카테고리별 문제 로딩 < 2초
- ✅ 카테고리 전환 < 1초
- ✅ 메모리 사용량 < 100MB
- ✅ 모바일 60fps 유지

---

## 📋 **리스크 관리**

### **예상 위험 요소**
1. **Layer1 데이터 불일치**
   - 대응: 1단계에서 데이터 완전 검증
   
2. **기본학습 모듈 의존성 문제**
   - 대응: 독립적 모듈로 설계, 최소 의존성
   
3. **카테고리별 문제 수 불균형**
   - 대응: 각 카테고리 최소 문제 수 확인

### **품질 보장 방안**
- ✅ 각 단계별 완전한 검증 후 진행
- ✅ 시즌1 기능과 실시간 대조 확인
- ✅ 기본학습 모듈 최대한 재활용
- ✅ 롤백 가능한 단계별 백업

---

## 🎯 **성공 기준**

### **기술적 성공**
- ✅ 4개 카테고리 완벽 구현
- ✅ 시즌1 기능 100% 재현
- ✅ 리팩토링 구조 완전 적용
- ✅ 300줄 원칙 100% 준수

### **사용자 경험 성공**
- ✅ 기본학습과 동일한 사용성
- ✅ 직관적인 카테고리 선택
- ✅ 빠른 응답속도
- ✅ 안정적인 동작

### **비즈니스 성공**
- ✅ 시즌1 사용자 경험 완전 재현
- ✅ 확장 가능한 모듈 구조
- ✅ 유지보수 효율성 극대화
- ✅ 추가 카테고리 확장 준비

---

## 📞 **완료 보고 및 검수**

### **단계별 보고**
- 각 단계 완료 시 조대표님께 진행상황 보고
- 검증 기준 통과 확인 후 다음 단계 진행
- 문제 발생 시 즉시 보고 및 해결방안 협의

### **최종 검수 항목**
1. **기능 완성도**: 시즌1 대비 100% 달성
2. **코드 품질**: 리팩토링 원칙 100% 준수
3. **성능 기준**: 모든 성능 지표 달성
4. **사용자 경험**: 기본학습과 동일한 품질

**서대리님, 이 계획에 따라 대분류 학습 기능을 완벽하게 구현해주시기 바랍니다!** 🚀

---

**문서 작성 완료**: 2025년 8월 11일 18:15 KST  
**작성자**: 노팀장  
**개발 담당**: 서대리  
**승인 대기**: 조대표님