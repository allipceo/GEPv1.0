# 서대리 작업지시서 - 대분류 학습 기능 구현

**발행일**: 2025년 8월 11일 18:20 KST  
**지시자**: 조대표님  
**전달자**: 노팀장  
**수행자**: 서대리  
**우선순위**: 높음 (즉시 착수)  
**예상 소요시간**: 3.5시간

---

## 🎯 **작업 개요**

### **미션**
**시즌1의 대분류 학습 기능을 리팩토링 구조로 완전 재구현**

### **핵심 요구사항**
```
✅ 기존 기본학습 모듈 95% 재활용
✅ Layer1 기준 4개 카테고리 필터링 (재산보험, 특종보험, 배상책임보험, 해상보험)
✅ 시즌1 index.html 기능 100% 재현
✅ 리팩토링 원칙 준수 (모든 파일 300줄 이하)
✅ 레고 블록식 단계별 개발 및 검증
```

### **성공 기준**
- **기능**: 시즌1 대분류 학습과 100% 동일
- **품질**: 기본학습과 동일한 사용자 경험
- **구조**: 완전한 모듈화 및 재사용성 확보
- **성능**: 카테고리별 문제 로딩 2초 이내

---

## 📋 **단계별 작업 지시**

### **🔸 1단계: 시즌1 기능 분석 (30분)**

#### **수행 내용**
```
1. index.html에서 대분류 학습 관련 코드 완전 분석
   - 카테고리 선택 UI 로직 추출
   - Layer1 필터링 방식 파악
   - 데이터 흐름 및 함수 호출 순서 매핑

2. 기본학습 모듈에서 재활용 가능한 부분 식별
   - 재활용 함수 목록 작성
   - 수정 필요 부분 명시
   - 신규 개발 범위 확정

3. 리팩토링 파일 구조 설계
   - 5개 파일 구조 확정 (모든 파일 300줄 이하)
   - 모듈 간 의존성 최소화
   - 파일명 규칙 준수 (언더스코어 사용)
```

#### **완료 기준**
- [ ] 4개 카테고리(재산보험, 특종보험, 배상책임보험, 해상보험) 정확히 식별
- [ ] Layer1 필터링 로직 완전 이해
- [ ] 재활용 가능 모듈 95% 이상 확보
- [ ] 5개 파일 구조 300줄 이하 설계 완료

#### **산출물 제출**
- `대분류_기능_분석_보고서.md`
- `재활용_모듈_매핑표.md`
- `파일_구조_설계서.md`

---

### **🔸 2단계: 카테고리 선택 UI 모듈 (45분)**

#### **수행 내용**
```
1. 카테고리 선택 HTML 템플릿 생성
   📄 templates/large_category_selection.html (150줄)
   - 4개 카테고리 버튼 (재산보험, 특종보험, 배상책임보험, 해상보험)
   - 기본학습과 동일한 디자인 스타일 적용
   - 카테고리별 예상 문제 개수 표시

2. 카테고리 선택 UI 로직 구현
   📄 static/js/large_category_ui.js (120줄)
   - selectCategory(categoryName) 함수
   - 선택된 카테고리 시각적 하이라이트
   - 기본학습 UI 함수 최대한 재활용

3. 메인 템플릿 생성
   📄 templates/large_category_learning.html (120줄)
   - include 방식으로 selection 모듈 포함
   - 기본학습 레이아웃 구조 재활용
```

#### **완료 기준**
- [ ] 4개 카테고리 버튼 화면에 정상 표시
- [ ] 각 버튼 클릭 시 이벤트 정상 발생
- [ ] 기본학습과 시각적으로 동일한 디자인
- [ ] 모든 파일 라인 수 기준 이하

#### **테스트 요구사항**
```
브라우저 테스트:
1. /large-category-learning 접속
2. 4개 카테고리 버튼 표시 확인
3. 각 버튼 클릭 시 시각적 피드백 확인
4. 기본학습 페이지와 디자인 비교
```

---

### **🔸 3단계: 데이터 필터링 모듈 (60분)**

#### **수행 내용**
```
1. Layer1 기준 필터링 핵심 함수 구현
   📄 static/js/large_category_data_filter.js (180줄)
   - filterQuestionsByCategory(categoryName) 함수
   - Layer1 값이 categoryName과 일치하는 문제만 추출
   - 기본학습의 loadBasicLearningData() 함수 재활용

2. 카테고리별 데이터 관리
   - 선택된 카테고리의 문제만 currentQuestionData에 저장
   - 문제 순서 및 currentQuestionIndex 관리
   - 카테고리별 총 문제 수 계산

3. 데이터 검증 및 성능 최적화
   - 각 카테고리별 실제 문제 개수 확인
   - 필터링 성능 최적화 (2초 이내)
   - Layer1 데이터 무결성 검증
```

#### **완료 기준**
- [ ] 각 카테고리별 정확한 필터링 동작
- [ ] 문제 개수 정확성 100% 확인
- [ ] 필터링 성능 2초 이내 달성
- [ ] Layer1 값과 카테고리명 완전 일치

#### **테스트 요구사항**
```javascript
// 브라우저 콘솔 테스트 필수
console.log('재산보험:', filterQuestionsByCategory('재산보험').length);
console.log('특종보험:', filterQuestionsByCategory('특종보험').length);
console.log('배상책임보험:', filterQuestionsByCategory('배상책임보험').length);
console.log('해상보험:', filterQuestionsByCategory('해상보험').length);

// 성능 테스트
console.time('필터링 시간');
filterQuestionsByCategory('재산보험');
console.timeEnd('필터링 시간'); // 2초 이내여야 함
```

---

### **🔸 4단계: 핵심 로직 통합 완성 (45분)**

#### **수행 내용**
```
1. 메인 로직 모듈 구현
   📄 static/js/large_category_main.js (200줄)
   - selectLargeCategoryMode(categoryName) 함수
   - 기본학습의 selectBasicLearningMode() 재활용
   - 카테고리별 독립적 세션 관리
   - 모든 기본 기능 연결 (문제표시, 답안처리, 네비게이션)

2. 통계 모듈 확장
   📄 static/js/large_category_stats.js (150줄)
   - 기본학습 통계 계산 함수 재활용
   - 카테고리별 독립적 통계 관리
   - 진도율 계산 (카테고리 총 문제 수 기준)
   - 정답률 및 학습 현황 표시

3. Flask 라우트 연결
   - app_v2.1.py에 라우트 추가
   - /large-category-learning 엔드포인트
   - 템플릿 렌더링 정상 작동
```

#### **완료 기준**
- [ ] 모든 기본 기능 (문제풀이, 답안처리, 통계) 정상 작동
- [ ] 카테고리별 독립적 진도 및 통계 관리
- [ ] 기본학습과 100% 동일한 사용자 경험
- [ ] Flask 라우트 정상 연결 및 페이지 렌더링

#### **테스트 요구사항**
```
전체 기능 테스트 시나리오:
1. 카테고리 선택 (예: 재산보험) → 해당 카테고리 문제만 로딩 확인
2. 첫 번째 문제 표시 → 문제 내용, 답안 버튼 정상 표시
3. 답안 선택 → 정답/오답 판정 정확성 확인
4. 다음 문제 → 진도 업데이트 및 문제 전환 확인
5. 통계 표시 → 카테고리별 정답률, 진도율 정확성 확인
```

---

### **🔸 5단계: 통합 테스트 및 시즌1 대조 검증 (30분)**

#### **수행 내용**
```
1. 전체 기능 통합 테스트
   - 4개 카테고리 모두 완전 테스트
   - 각 카테고리별 최소 5문제씩 풀이 테스트
   - 카테고리 전환 시 독립성 확인
   - 크로스 브라우저 테스트 (Chrome, Firefox)

2. 시즌1 기능 대조 검증
   - index.html의 대분류 학습과 기능 비교
   - 사용자 경험 동일성 확인
   - 응답 속도 및 성능 비교
   - 데이터 정확성 완전 대조

3. 최종 검수 및 완료 보고
   - 모든 파일 300줄 이하 재확인
   - 코드 품질 및 주석 점검
   - 완료 보고서 및 검증 결과 문서화
```

#### **완료 기준**
- [ ] 4개 카테고리 모두 완벽 작동
- [ ] 시즌1 대분류 학습 기능 100% 재현
- [ ] 성능 기준 달성 (카테고리별 로딩 2초 이내)
- [ ] 기본학습과 동일한 사용자 경험

#### **최종 테스트 체크리스트 (필수 완료)**
```
□ 재산보험 선택 → 문제풀이 → 통계 확인 → 정상 작동
□ 특종보험 선택 → 문제풀이 → 통계 확인 → 정상 작동
□ 배상책임보험 선택 → 문제풀이 → 통계 확인 → 정상 작동
□ 해상보험 선택 → 문제풀이 → 통계 확인 → 정상 작동
□ 카테고리 전환 시 독립적 데이터 관리 확인
□ O/X 키보드 단축키 모든 카테고리에서 작동
□ 이전/다음 문제 네비게이션 정상 작동
□ 정답률 및 진도율 계산 정확성 확인
□ 모바일 반응형 디스플레이 확인
□ 페이지 새로고침 시 세션 복원 확인
```

---

## 📊 **최종 제출 산출물**

### **구현 파일 (총 5개)**
```
📁 templates/
├── 📄 large_category_learning.html (120줄)
└── 📄 large_category_selection.html (150줄)

📁 static/js/
├── 📄 large_category_main.js (200줄)
├── 📄 large_category_data_filter.js (180줄)
├── 📄 large_category_ui.js (120줄)
└── 📄 large_category_stats.js (150줄)
```

### **문서 산출물**
```
📄 대분류_기능_분석_보고서.md
📄 재활용_모듈_매핑표.md
📄 파일_구조_설계서.md
📄 카테고리별_문제_현황_보고서.md
📄 대분류_학습_기능_완성_보고서.md
📄 시즌1_기능_대조_검증서.md
```

### **Flask 연동**
```python
# app_v2.1.py에 추가할 라우트
@app.route('/large-category-learning')
def large_category_learning():
    return render_template('large_category_learning.html')
```

---

## ⏰ **작업 일정 및 보고 체계**

### **단계별 완료 목표 시간**
```
1단계 완료: 30분 후 (18:50)
2단계 완료: 1시간 15분 후 (19:35)
3단계 완료: 2시간 15분 후 (20:35)
4단계 완료: 3시간 후 (21:20)
5단계 완료: 3시간 30분 후 (21:50)
```

### **진행 보고 방식**
- **각 단계 완료 시**: 조대표님께 진행상황 및 검증 결과 보고
- **문제 발생 시**: 즉시 보고 및 해결방안 협의
- **최종 완료 시**: 전체 결과 및 테스트 결과 종합 보고

---

## 🚨 **주의사항 및 필수 준수사항**

### **코딩 표준**
```
✅ 모든 파일명: 언더스코어(_) 사용, 점(.) 절대 금지
✅ 모든 파일: 300줄 이하 엄격 준수
✅ 함수명: camelCase 사용 (예: selectLargeCategoryMode)
✅ 변수명: 명확하고 의미있는 이름 사용
✅ 주석: 핵심 로직에 충분한 주석 추가
```

### **재활용 우선 원칙**
```
✅ 기본학습 모듈 함수 최대한 재활용
✅ 새로운 함수 개발 최소화
✅ 기존 검증된 로직 우선 사용
✅ UI 컴포넌트 및 스타일 재활용
```

### **품질 기준**
```
✅ 시즌1 기능 100% 재현 (타협 불가)
✅ 기본학습과 동일한 사용자 경험
✅ 모든 카테고리 완벽 작동
✅ 성능 기준 달성 (로딩 2초 이내)
```

---

## 🎯 **성과 평가 기준**

### **우수 (S등급)**
- 모든 단계 예정 시간 내 완료
- 시즌1 기능 100% 완벽 재현
- 코드 품질 및 구조 완벽
- 추가 개선사항 제안

### **양호 (A등급)**
- 모든 기능 정상 작동
- 약간의 시간 초과 허용
- 기본 품질 기준 달성
- 요구사항 100% 충족

### **보통 (B등급)**
- 핵심 기능 작동
- 일부 최적화 필요
- 기본 요구사항 달성
- 추가 개선 작업 필요

---

## 📞 **지원 및 협조 체계**

### **기술 지원**
- **노팀장**: 기술적 질문 및 설계 자문
- **조대표님**: 요구사항 명확화 및 우선순위 결정
- **코코치**: 복잡한 기술적 문제 해결 지원

### **리소스 제공**
- **시즌1 index.html**: 완전한 참고 자료
- **기본학습 모듈**: 재활용 가능한 완성된 모듈
- **789개 문제 데이터**: 검증된 데이터 세트

### **응급 상황 대응**
- **즉시 보고**: 예상 시간 초과 또는 기술적 장애
- **대안 제시**: 문제 발생 시 해결방안 협의
- **롤백 준비**: 각 단계별 백업 및 복원 방안

---

## 🚀 **최종 미션**

**서대리님께서는 기본학습 모듈 개발에서 보여준 뛰어난 역량을 바탕으로, 이번 대분류 학습 기능도 완벽하게 구현해주시기 바랍니다.**

### **기대 효과**
- ✅ AICU S4의 핵심 학습 기능 완성
- ✅ 리팩토링 구조의 모범 사례 창출
- ✅ 시즌1 사용자 경험 완전 재현
- ✅ 확장 가능한 모듈 아키텍처 구축

### **성공 확신**
서대리님의 이전 성과(기본학습 모듈 완벽 구현)를 바탕으로, 이번 대분류 학습 기능도 반드시 성공할 것을 확신합니다.

**화이팅! 🚀**

---

**작업지시서 발행**: 2025년 8월 11일 18:20 KST  
**지시자**: 조대표님  
**전달자**: 노팀장  
**수행자**: 서대리  
**작업 시작**: 즉시