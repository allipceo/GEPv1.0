## 🚀 **즉시 실행 계획 (이어풀기 우선)**

### **금일 완료 (18:30 ~ 21:30)**
1. **조대표님 최종 승인 및 세부 요구사항 확정**
2. **이어풀기 중심 데이터 구조 완성 설계**
3. **진도 추적 시스템 기본 로직 개발**
4. **등록일/D-Day 계산 로직 구현**

### **내일 실행 (09:00 ~ 18:00)**
1. **기본학습 이어풀기 완전 구현**
   - 중단 지점 정확한 저장/복원
   - "21번부터 계속하기" 표시
2. **대분류학습 카테고리별 진도 관리**
   - 4개 카테고리 독립 진도 추적
   - 카테고리별 이어풀기 지원
3. **통합 통계 실시간 업데이트**
   - 문제풀이 시점 즉시 통계 반영
   - 대문 3개 박스 정확한 데이터 표시

### **주간 목표 (이어풀기 완성)**
- **Week3 Day 1-3**: 정확한 이어풀기 시스템 완성
- **Week3 Day 4-6**: 통합 vs 독립 통계 완성  
- **Week3 Day 7-8**: 분석 기능 및 최종 완성

### **조대표님 검증 시나리오**
```
테스트 시나리오 1: 기본학습 이어풀기
11:00 - 앱 등록 → 기본학습 1~10번 → 앱 종료
13:00 - 앱 재시작 → 기본학습 이어풀기 → 11번 정확히 시작되는지 확인

테스트 시나리오 2: 모드별 진도 독립성  
기본학습 11~20번 → 대분류(해상보험) 1~20번 → 기본학습 복귀 → 21번 정확히 시작

테스트 시나리오 3: 통합 통계 정확성
대문에서 "금일 총 40문제" (기본 20 + 대분류 20) 정확한 표시 확인
기본학습 화면에서 "기본학습 금일 20문제" 정확한 표시 확인
대분류 화면에서 "대분류 금일 20문제" 정확한 표시 확인

테스트 시나리오 4: D-Day 연동
등록일 기준 "학습 1일차 | D-125" 정확한 표시 확인
날짜 변경 시 자동 업데이트 확인
```# AICU S4 통계 기능 정의서 초안 

**작성일**: 2025년 8월 11일 18:25 KST  
**작성자**: 노팀장 (기술자문)  
**승인자**: 조대표님  
**기준**: 조대표님 철학 + 시즌1 구현사례 + 경쟁력 분석  
**버전**: V1.0 초안

---

## 🎯 **통계 기능 철학 및 핵심 원칙**

### **조대표님의 핵심 철학**
```
"단순한 정답/오답 나열이 아닌, 개인의 현재 상황 파악과 
 취약점 분석을 통한 과학적 학습 방법론 제공"
```

### **통계 데이터 수집 체계**
```
📍 최초 출발점: 설정에서 사용자 등록일
📊 실질 발생점: 각 문제풀이 화면에서 데이터 수집
📈 통합 표시점: 대문에서 모든 학습 모드 통합 통계
🔄 이어풀기 원칙: 정확한 진도 관리로 중단된 지점부터 재시작
```

### **이어풀기 시나리오 예시**
```
11:00 - 앱 등록 + 기본학습 1~10번 풀이 → 앱 종료
13:00 - 앱 재시작 + 기본학습 이어풀기 → 11번부터 시작
12:00 - 기본학습 11~20번 → 대분류(해상보험) 1~20번
      - 기본학습 복귀시 → 21번부터 시작

금일 총 통계 (대문 표시):
- 총 풀이: 40문제 (기본 20문제 + 대분류 20문제)
- 모드별 세부통계는 각 화면에서 개별 표시
```

### **경쟁력 차별화 전략**
- **1차 경쟁력**: 정확한 기출문제 + 정답 제공 (경쟁사와 동일)
- **2차 경쟁력**: 개인별 학습 데이터 기반 과학적 분석 ⭐⭐⭐
- **3차 경쟁력**: 정확한 이어풀기 + D-Day 카운터 연동 ⭐⭐⭐
- **목표**: "이 앱으로 학습하면 합격률이 올라간다" 증명

---

## 📊 **1순위: 핵심 통계 기능**

### **🏠 홈 화면 통계 (최우선)**

#### **A. 보유문제수 현황**
```
데이터 소스: ins_master_db.csv
필터링 조건: "인스교제외" + "보험중개사 시험"
표시 형태: "전체 789개 문제 보유"
업데이트: 앱 시작 시 1회 계산
```

#### **B. 학습진도 현황**
```
B-1. 완료문제: 실제 풀이한 누적 문제 수
B-2. 전체진도율: 완료문제 ÷ 보유문제수 × 100
B-3. 정답율: 풀이한 문제 중 정답 비율
```

#### **C. 금일 학습현황 (별도 박스)**
```
C-1. 오늘 총 문제수: 당일 풀이한 문제 수
C-2. 오늘 정답수: 당일 정답한 문제 수
C-3. 오늘 정답율: 당일 정답률
```

### **📚 학습 모드별 통계**

#### **D. 기본학습 통계**
```
D-1. 누적 현황: 총 시도, 총 정답, 정답률
D-2. 금일 현황: 오늘 시도, 오늘 정답, 오늘 정답률
D-3. 진도 현황: 현재 문제 번호/전체 문제 수
D-4. 연속 정답: 현재 연속 정답 횟수
```

#### **E. 대분류학습 통계**
```
E-1. 전체 현황: 모든 카테고리 통합 통계
E-2. 카테고리별 현황:
    - 재산보험: 시도/정답/정답률
    - 특종보험: 시도/정답/정답률  
    - 배상책임보험: 시도/정답/정답률
    - 해상보험: 시도/정답/정답률
E-3. 카테고리별 진도율: 각 카테고리 완료 비율
```

---

## 📈 **2순위: 분석 및 예측 기능**

### **F. 학습 패턴 분석**
```
F-1. 일별 학습량 추이 (7일간)
F-2. 시간대별 정답률 분석
F-3. 요일별 학습 패턴
F-4. 집중도 분석 (연속 학습 시간)
```

### **G. 취약점 분석**
```
G-1. 정답률 낮은 카테고리 식별
G-2. 반복 오답 문제 목록
G-3. 학습 공백기 알림
G-4. 개선 필요 영역 제안
```

### **H. 시험 예측 기능**
```
H-1. 현재 수준 예상 점수
H-2. 합격 가능성 확률
H-3. 목표 달성까지 필요 학습량
H-4. 추천 학습 계획
```

---

## 🔧 **3순위: 기술적 구현 기능**

### **I. 데이터 관리**
```
I-1. 사용자별 데이터 분리 저장
I-2. 다중 디바이스 동기화 (LocalStorage 기반)
I-3. 데이터 백업/복원 기능
I-4. 초기화 기능 (설정에서 제공)
```

### **J. 실시간 업데이트**
```
J-1. 문제풀이 즉시 통계 반영
J-2. 일일 통계 자동 갱신 (00시 기준)
J-3. 진도율 실시간 계산
J-4. 성취 알림 시스템
```

---

## 🏗️ **기술적 구현 방안**

### **기술적 구현 방안**

#### **이어풀기 중심 데이터 구조**
```javascript
const userStatistics = {
    // 사용자 등록 및 D-Day 정보
    user: {
        registrationDate: "2025-08-11 11:00:00",
        registrationDay: 1,
        dDayTarget: "2025-12-15",
        userName: "사용자명"
    },
    
    // 이어풀기 진도 관리
    progress: {
        basicLearning: {
            currentIndex: 21,        // 다음에 풀 문제 번호
            completedCount: 20,      // 완료한 문제 수
            totalQuestions: 789,     // 전체 문제 수
            lastSession: "2025-08-11 14:00:00"
        },
        largeCategoryLearning: {
            "재산보험": { current: 1, completed: 0, total: 200 },
            "특종보험": { current: 1, completed: 0, total: 150 },
            "배상책임보험": { current: 1, completed: 0, total: 180 },
            "해상보험": { current: 21, completed: 20, total: 170 }
        }
    },
    
    // 통합 통계 (대문 표시용)
    global: {
        cumulative: {
            totalAttempted: 40,      // 모든 모드 누적 시도
            totalCorrect: 35,        // 모든 모드 누적 정답
            accuracy: 87.5           // 전체 정답률
        },
        daily: {
            "2025-08-11": {
                attempted: 40,       // 오늘 모든 모드 시도
                correct: 35,         // 오늘 모든 모드 정답
                accuracy: 87.5       // 오늘 전체 정답률
            }
        }
    },
    
    // 모드별 독립 통계
    modes: {
        basicLearning: {
            cumulative: { attempted: 20, correct: 18, accuracy: 90.0 },
            daily: {
                "2025-08-11": { attempted: 20, correct: 18, accuracy: 90.0 }
            },
            currentStreak: 5,
            lastQuestionId: "Q010"
        },
        largeCategoryLearning: {
            cumulative: { attempted: 20, correct: 17, accuracy: 85.0 },
            daily: {
                "2025-08-11": { attempted: 20, correct: 17, accuracy: 85.0 }
            },
            categories: {
                "재산보험": { attempted: 0, correct: 0, accuracy: 0.0 },
                "특종보험": { attempted: 0, correct: 0, accuracy: 0.0 },
                "배상책임보험": { attempted: 0, correct: 0, accuracy: 0.0 },
                "해상보험": { attempted: 20, correct: 17, accuracy: 85.0 }
            }
        }
    },
    
    // 세션별 상세 로그 (분석용)
    sessionLog: [
        {
            timestamp: "2025-08-11 11:00:00",
            mode: "basicLearning",
            questionId: "Q001",
            questionNumber: 1,
            userAnswer: "O",
            correctAnswer: "O",
            isCorrect: true,
            timeSpent: 45
        },
        // ... 모든 문제풀이 로그
        {
            timestamp: "2025-08-11 14:30:00",
            mode: "largeCategoryLearning", 
            category: "해상보험",
            questionId: "Q520",
            questionNumber: 20,
            userAnswer: "X",
            correctAnswer: "O", 
            isCorrect: false,
            timeSpent: 62
        }
    ]
};
```

#### **핵심 클래스 구조**
```javascript
class StatisticsManager {
    // 이어풀기 진도 관리
    updateProgress(mode, category, questionNumber)
    getNextQuestion(mode, category)
    
    // 통계 업데이트 (문제풀이 시점)
    recordAnswer(mode, category, questionData, isCorrect)
    updateRealTimeStats(mode, category, isCorrect)
    
    // 화면별 통계 표시
    getHomeStatistics()           // 대문: 통합 통계
    getBasicLearningStats()       // 기본학습: 모드별 통계
    getLargeCategoryStats(category) // 대분류: 카테고리별 통계
    
    // D-Day 및 등록일 관리
    calculateDDay()
    calculateStudyDays()
    
    // 데이터 영속성
    saveToStorage()
    loadFromStorage()
    resetAllData()
}
```

#### **실시간 데이터 수집 흐름**
```
1. 문제풀이 화면 진입
   ↓
2. getNextQuestion() 호출 → 이어풀기 문제 번호 반환
   ↓  
3. 사용자 답안 제출
   ↓
4. recordAnswer() 호출 → 세션로그 기록
   ↓
5. updateRealTimeStats() 호출 → 실시간 통계 업데이트
   ↓
6. updateProgress() 호출 → 다음 문제 번호 설정
   ↓
7. saveToStorage() 호출 → 로컬스토리지 저장
```

---

## 📅 **구현 우선순위 및 일정 (이어풀기 중심)**

### **Phase 1: 이어풀기 핵심 시스템 (3일)**
```
Day 1: 등록 시스템 + D-Day 카운터
- 사용자 등록 시점 기록
- D-Day 계산 로직
- 학습 경과일 계산

Day 2: 진도 추적 시스템  
- 기본학습 이어풀기 로직
- 대분류 카테고리별 진도 관리
- 정확한 다음 문제 번호 반환

Day 3: 통합 통계 표시 (대문)
- 모든 모드 통합 데이터 수집
- 실시간 통계 업데이트
- 홈화면 3개 박스 완성

목표: 정확한 이어풀기 + 통합 통계 완성
```

### **Phase 2: 모드별 독립 통계 (3일)**
```
Day 4: 기본학습 통계 화면
- 기본학습 전용 통계 표시
- 이어풀기 정보 표시
- 연속 정답 추적

Day 5: 대분류학습 통계 화면
- 카테고리별 독립 통계
- 카테고리별 이어풀기 정보
- 전체 대분류 통합 통계

Day 6: 실시간 데이터 수집 최적화
- 문제풀이 화면 연동
- 성능 최적화
- 데이터 무결성 검증

목표: 모든 화면에서 정확한 통계 표시
```

### **Phase 3: 분석 및 완성 (2일)**
```
Day 7: 학습 패턴 분석
- 일별/시간대별 분석
- 취약점 식별
- 학습 추천 알고리즘

Day 8: 시스템 안정화
- 데이터 백업/복원
- 다중 디바이스 동기화
- 최종 테스트 및 검증

목표: 상용 서비스 수준 완성 + 차별화 기능
```

---

## 🎯 **성공 기준 및 KPI**

### **기능적 성공 기준 (이어풀기 중심)**
```
✅ 정확한 이어풀기: 중단 지점부터 정확한 재시작
✅ 통합 통계 정확성: 모든 모드 데이터 정확한 합산
✅ 모드별 독립성: 각 학습모드 통계 정확한 분리
✅ 실시간 업데이트: 문제풀이 즉시 모든 통계 반영
✅ D-Day 연동: 등록일 기준 정확한 경과일/남은일 계산
✅ 데이터 무결성: 앱 재시작 후에도 진도 정확히 보존
```

### **사용자 경험 기준**
```
✅ 조대표님 시나리오: 11:00 등록 → 13:00 이어풀기 → 정확한 11번 시작
✅ 모드 전환 이어풀기: 기본학습 ↔ 대분류학습 진도 독립 관리
✅ 통계 정확성: 대문(통합) vs 모드별(독립) 통계 정확한 분리
✅ 직관적 표시: "21번부터 계속하기" 등 명확한 안내
✅ 성능: 이어풀기 조회 < 100ms, 통계 업데이트 < 50ms
```

### **경쟁력 기준**
```
✅ 정밀한 진도 관리: 문제 단위 정확한 이어풀기 지원
✅ 통합 vs 독립 통계: 대문 통합 + 모드별 세부 통계 제공
✅ 학습 연속성: 언제든 중단했던 지점부터 정확한 재시작
✅ 데이터 기반 분석: 세션로그 기반 학습 패턴 분석
✅ D-Day 동기부여: 등록일부터 시험일까지 체계적 관리
```

---

## ⚠️ **제약사항 및 주의사항**

### **기술적 제약**
- **CSV 파일 수정 금지**: ins_master_db.csv, questions.json 변경 불가
- **기존 로직 보존**: 문제풀이 핵심 로직 변경 금지
- **성능 최적화**: 통계 계산이 사용자 경험에 영향 주지 않음

### **데이터 관리**
- **사용자 등록 시점**: 통계 수집 시작점
- **다중 디바이스**: 동일 사용자 다른 기기에서 연속성
- **초기화 기능**: 설정에서 모든 데이터 초기화 가능

---

## 🚀 **즉시 실행 계획**

### **금일 완료 (18:30 ~ 21:00)**
1. **조대표님 최종 승인** 
2. **Phase 1 설계 완료**
3. **StatisticsManager 기본 구조 개발**

### **내일 실행 (09:00 ~ 18:00)**
1. **홈 화면 통계 완전 구현**
2. **기본학습 통계 완전 구현** 
3. **실시간 업데이트 연동**

### **주간 목표**
- **Week3 완료**: 1순위 핵심 통계 기능 100% 완성
- **시즌1 수준**: 통계 기능 완전 재현 달성
- **차별화 준비**: 2순위 분석 기능 기반 구축

---

## 🤝 **조대표님께 확인 요청**

### **우선순위 승인**
1. **1순위 기능**: 홈화면 + 학습모드별 통계 → 승인?
2. **2순위 기능**: 분석 + 예측 기능 → 필요성?
3. **3순위 기능**: 기술적 완성 → 일정?

### **추가 요구사항**
1. **누락된 통계 항목** 있는지?
2. **우선순위 조정** 필요한지?
3. **시즌1 대비 개선점** 추가?

**조대표님 승인 완료 시 즉시 개발 착수하겠습니다!** 🚀

---

**문서 상태**: 초안 완료  
**다음 단계**: 조대표님 검토 및 승인  
**개발 준비**: 100% 완료  
**예상 완성**: Week3 내 1순위 기능 완성