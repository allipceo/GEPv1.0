# QCODE 매핑 가이드 v2.0

## 구성 규칙

QCODE는 `ABCD-XX` 형식으로 구성됩니다:

- **A**: 시험종류
- **B**: 중분류  
- **C**: LAYER1
- **D**: QTYPE
- **XX**: 순차번호 (01, 02, 03...)

## 매핑 테이블

### 시험종류
- 보험중개사: A
- 보험심사역: B
- 손해사정사: C

### 중분류
- 생명보험: A
- 손해보험: B
- 제3보험: C

### LAYER1
- 관계법령: A
- 손보1부: B
- 손보2부: C

### QTYPE
- A: 기출문제(선택형)
- B: 진위형

## 예시

- **ABAA-01**: 보험중개사-손해보험-관계법령-기출문제-01번
- **ABAB-01**: 보험중개사-손해보험-관계법령-진위형-01번
- **ABBA-01**: 보험중개사-손해보험-손보1부-기출문제-01번
- **ABCA-01**: 보험중개사-손해보험-손보2부-기출문제-01번

## 고유성 보장

- **총 문제 수**: 1,440개
- **고유 QCODE 수**: 1,440개
- **중복률**: 0% (완전 고유)

## 기출문제 기반 진위형 문제 생성 워크플로우

### 1. 진위형 문제 QCODE 생성 규칙

#### 파생형 QCODE 구조
```
[원본 QCODE]-B[진위형 번호]
```

#### 예시
- **원본 기출문제**: `ABAA-1321` (30회 관계법령 1번)
- **파생 진위형 문제들**:
  - `ABAA-1321-B1`: 진위형 1번
  - `ABAA-1321-B2`: 진위형 2번
  - `ABAA-1321-B3`: 진위형 3번
  - `ABAA-1321-B4`: 진위형 4번

### 2. 작업 프로세스

#### 2.1 사용자 작업 (엑셀)
1. **원본 기출문제 행 아래 빈 행 추가** (4~8개)
2. **진위형 문제 작성**:
   - QUESTION: 진위형 문제 문장
   - ANSWER: "O" 또는 "X"
   - QTYPE: "B" (진위형)
3. **기타 필드는 비워둠** (자동 생성)

#### 2.2 서대리 작업 (자동화)
1. **신규 문제 감지**: 기존 JSON과 비교
2. **데이터 보완**:
   - QCODE: 원본 QCODE + "-B" + 순번
   - ETITLE, ECLASS, EROUND, LAYER1, LAYER2, LAYER3: 원본 복사
   - QNUM: 원본 QNUM + "-B" + 순번
   - CREATED_DATE, MODIFIED_DATE: 현재 시간
3. **JSON 업데이트**: 신규 문제 추가

### 3. 데이터 매핑 규칙

#### 원본에서 복사되는 필드
- ETITLE: 보험중개사
- ECLASS: 손해보험
- EROUND: 30.0
- LAYER1: 관계법령
- LAYER2: 보험업법
- LAYER3: (빈 값)
- DIFFICULTY: (빈 값)

#### 새로 생성되는 필드
- QCODE: `ABAA-1321-B1`, `ABAA-1321-B2`, ...
- QTYPE: "B" (진위형)
- QNUM: "1-B1", "1-B2", ...
- CREATED_DATE: 현재 날짜
- MODIFIED_DATE: 현재 날짜

### 4. 예시 데이터

#### 원본 기출문제
```json
{
  "QCODE": "ABAA-1321",
  "QTYPE": "A",
  "QUESTION": "보험업법상 손해보험상품이 아닌 것은?",
  "ANSWER": "1"
}
```

#### 파생 진위형 문제들
```json
{
  "QCODE": "ABAA-1321-B1",
  "QTYPE": "B",
  "QUESTION": "퇴직보험계약은 보험업법상 손해보험상품이 아니다",
  "ANSWER": "O"
},
{
  "QCODE": "ABAA-1321-B2",
  "QTYPE": "B", 
  "QUESTION": "퇴직보험계약은 보험업법상 손해보험상품이다",
  "ANSWER": "X"
}
```

### 5. 고유성 보장

- **기존 QCODE**: 1,440개 (기출문제)
- **신규 QCODE**: 파생형으로 생성하여 충돌 방지
- **총 고유 QCODE**: 기존 + 신규 (무제한 확장 가능)

## 업데이트 이력

- **2025-01-17**: QCODE 중복 문제 해결
- **2025-01-17**: 모든 문제에 고유한 QCODE 부여
- **2025-01-17**: 엑셀, CSV, JSON 파일 동기화 완료
- **2025-08-26**: 기출문제 기반 진위형 문제 생성 워크플로우 추가
