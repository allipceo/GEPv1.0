📋 GEP 데이터베이스 스키마 기본 원칙
문서명: GEP V1.0 데이터베이스 스키마 기본 원칙
작성일: 2025년 8월 15일
작성자: 코코치 (PM)
승인자: 조대표님

1. 문서 개요
이 문서는 GEP V1.0 프로젝트의 데이터베이스 설계에 적용될 기본 원칙을 정의합니다. ACIU 개발에서 얻은 데이터 불일치 문제를 교훈 삼아, 중앙 집중식 단일 소스(SSOT) 원칙을 기반으로 데이터의 신뢰성과 일관성을 확보하는 데 목적이 있습니다.

2. 핵심 데이터베이스의 4개 축
GEP는 모든 데이터의 생성, 저장, 관리를 담당하는 4개의 핵심 데이터베이스를 중심으로 운영됩니다.

데이터베이스

역할 및 특징

GEP V1.0 적용 파일

문제 데이터베이스<br/>(Static DB)

문제, 보기, 정답 등 모든 문제 콘텐츠의 원본을 담고 있는 신뢰의 축입니다. 한 번 생성되면 변하지 않는 정적 데이터입니다.

questions.json

사용자 데이터베이스<br/>(User DB)

게스트와 등록 사용자의 계정 정보를 관리하는 사용자 관리의 축입니다. 사용자의 ID, 서비스 레벨, 결제 정보 등 변하지 않는 고유 정보가 저장됩니다.

user_db.json

문제 풀이 이벤트 DB<br/>(Event DB)

사용자의 모든 학습 활동(클릭)을 시간순으로 기록하는 데이터 수집의 축입니다. 이 데이터는 분석을 위한 원천 자료 역할을 합니다.

event_log.json

통계 데이터베이스<br/>(Dynamic DB)

Event DB의 기록을 바탕으로 실시간으로 계산 및 업데이트되는 통계와 분석의 축입니다. 이어풀기 정보, 정답률, 진도율 등 현재 상태가 저장됩니다.

statistics.json

3. 데이터베이스 필드 구조 및 원칙
3.1. 문제 데이터베이스 (questions.json)
원칙: 문제의 원본성과 추적성을 보장합니다.

주요 필드: problem_id, exam_type, exam_session, main_subject, sub_subject, question_type, question_text, correct_answer, is_application, original_question_reference

3.2. 사용자 데이터베이스 (user_db.json)
원칙: 모든 사용자를 단일 데이터 소스로 관리합니다.

주요 필드: user_id, user_name, user_type(게스트/등록), subscription_level(free/premium/pro), registration_date, last_login, exam_type, exam_date

3.3. 문제 풀이 이벤트 DB (event_log.json)
원칙: 모든 사용자 활동을 시간순으로 빠짐없이 기록합니다.

주요 필드: event_id, user_id, problem_id, timestamp, user_answer, is_correct, time_spent, device_info

3.4. 통계 데이터베이스 (statistics.json)
원칙: event_log.json을 기반으로 실시간으로 재계산될 수 있는 구조를 갖춥니다.

주요 필드: user_id, last_question_info(이어풀기), overall_stats(누적 통계), daily_stats(일별 통계), subject_stats(과목별 통계)

4. 데이터 흐름 로직 및 원칙
GEP는 단일 방향의 데이터 흐름을 통해 일관성을 확보합니다.

사용자 활동: 사용자가 앱에서 문제를 풀거나 클릭하는 모든 행동은 Event DB에 기록됩니다.

데이터 업데이트: Event DB에 기록된 데이터를 기반으로 통계 DB가 실시간으로 갱신됩니다.

화면 표시: 앱의 모든 화면(홈, 학습, 통계)은 통계 DB의 데이터를 가져와 표시합니다.

사용자 관리: 사용자 DB는 독립적으로 관리되며, 통계 데이터와 user_id로 연결됩니다.

이러한 분리된 구조는 ACIU에서 문제가 되었던 데이터 간 충돌을 방지하고, 향후 기능 확장 시에도 각 데이터베이스의 역할만 충실히 수행하면 되는 레고블록 철학에 완벽하게 부합합니다.

5. 결론
이 원칙은 GEP의 모든 데이터 처리를 위한 견고한 기반이 될 것입니다.