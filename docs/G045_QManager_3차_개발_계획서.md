# QManager 3차 개발 계획서 v1.0

## 📋 **문서 개요**
- **작성일**: 2025년 8월 28일
- **프로젝트**: QManager (진위형 문제 관리 시스템) 3차 개발
- **상태**: 계획 수립 완료 → 개발 시작 준비
- **개발 기간**: 4주 (2025.08.28 ~ 2025.09.25)
- **개발 방식**: 레고블럭 방식 + 단계별 검증

---

## 🎯 **개발 철학 및 원칙**

### **1. 레고블럭 개념**
- **모듈화된 블록 단위 개발**
- **각 블록의 독립성과 재사용성**
- **블록 간 명확한 인터페이스 정의**
- **단계별 블록 완성 및 검증**

### **2. 중앙처리 원소스 멀티유즈**
- **공통 로직 중앙화**
- **데이터 처리 표준화**
- **에러 핸들링 통합**
- **유틸리티 함수 공유**

### **3. 기능함수 최대 재활용**
- **QGENERATOR 검증된 코드 활용**
- **기존 성공 패턴 적용**
- **중복 개발 방지**
- **검증된 로직 우선 사용**

### **4. 리팩토링 개념**
- **지속적 개선 및 최적화**
- **코드 품질 향상**
- **성능 최적화**
- **유지보수성 증대**

---

## 🚀 **Phase 1: 데이터 구조 설계 및 초기화**

### **Block 1-1: 8개 고정 QCODE 시스템 설계**
```
🎯 목표: 각 기출문제당 8개 고정 슬롯 구조 정의
📁 파일: static/data/qmanager_structure.json
🔧 기능: 
- ABAA-01: {B1~B8} 구조 정의
- 기존 데이터 마이그레이션 스크립트
- 초기화 로직 구현
📊 검증 기준:
- 10개 기출문제로 구조 테스트
- 메모리 사용량 측정
- 로딩 속도 검증
```

**재활용 요소**:
- QGENERATOR의 QCODE 생성 규칙
- 기존 gep_generated_questions.json 구조
- JSON 데이터 처리 로직

**시뮬레이션**:
- 10개 기출문제로 구조 테스트
- 메모리 사용량 측정
- 로딩 속도 검증

**실제 데이터 검증**:
- 기존 1,440개 기출문제 적용
- gep_generated_questions.json 마이그레이션

---

## 🎯 **Phase 2: 핵심 데이터 관리 모듈**

### **Block 2-1: QManager Data Core**
```
🎯 목표: 데이터 CRUD 핵심 로직
📁 파일: qmanager/js/qmanager-data.js
🔧 기능:
- 기출문제별 8개 슬롯 로드
- 문제 생성/수정/삭제 로직
- 변경사항 추적
- 데이터 검증
📊 검증 기준:
- 100개 기출문제로 CRUD 테스트
- 동시 작업 시 데이터 무결성 검증
- 메모리 누수 방지
```

**재활용 요소**:
- QGENERATOR의 데이터 로딩 로직
- QCODE 생성 규칙
- JSON 저장/로드 함수

### **Block 2-2: 중앙 처리 엔진**
```
🎯 목표: 공통 로직 중앙화
📁 파일: qmanager/js/qmanager-core.js
🔧 기능:
- 기출문제 검색 및 필터링
- QCODE 매핑 및 검증
- 에러 핸들링 중앙화
- 로깅 시스템
📊 검증 기준:
- 검색 성능 측정
- 에러 처리 정확성
- 로깅 완전성
```

**원소스 멀티유즈**:
- QGENERATOR의 검색 로직 재활용
- 공통 유틸리티 함수 통합
- 에러 처리 표준화

---

## 🎯 **Phase 3: UI 관리 모듈**

### **Block 3-1: 기출문제 목록 UI**
```
🎯 목표: 좌측 기출문제 목록 구현
📁 파일: qmanager/js/qmanager-list.js
🔧 기능:
- 기출문제 검색 및 필터링
- 라디오 버튼 선택
- 선택된 문제 하이라이트
- 스크롤 최적화
📊 검증 기준:
- 1,440개 기출문제 로딩 테스트
- 검색 성능 측정
- 스크롤 부드러움 검증
```

**재활용 요소**:
- QGENERATOR의 기출문제 목록 UI
- 검색 및 필터링 로직
- 스타일링 (CSS)

### **Block 3-2: 8개 슬롯 관리 UI**
```
🎯 목표: 우측 8개 고정 슬롯 구현
📁 파일: qmanager/js/qmanager-slots.js
🔧 기능:
- 8개 고정 슬롯 표시
- 각 슬롯별 삭제 버튼
- 문제 입력 및 답안 선택
- 실시간 유효성 검사
📊 검증 기준:
- 슬롯별 CRUD 동작 정확성
- UI 반응성 측정
- 입력 검증 정확성
```

**재활용 요소**:
- QGENERATOR의 문제 입력 UI
- 라디오 버튼 스타일링
- 입력 검증 로직

---

## 🎯 **Phase 4: 통합 및 상호작용**

### **Block 4-1: 이벤트 핸들러**
```
🎯 목표: UI 상호작용 통합
📁 파일: qmanager/js/qmanager-events.js
🔧 기능:
- 기출문제 선택 이벤트
- 슬롯별 CRUD 이벤트
- 저장/업로드 이벤트
- 키보드 단축키
📊 검증 기준:
- 이벤트 처리 정확성
- 키보드 단축키 동작
- 에러 상황 처리
```

**재활용 요소**:
- QGENERATOR의 이벤트 처리 로직
- 키보드 네비게이션
- 폼 검증

### **Block 4-2: 상태 관리**
```
🎯 목표: 애플리케이션 상태 관리
📁 파일: qmanager/js/qmanager-state.js
🔧 기능:
- 현재 선택된 기출문제 추적
- 변경사항 상태 관리
- 로딩 상태 표시
- 에러 상태 처리
📊 검증 기준:
- 상태 변경 정확성
- 메모리 사용량 최적화
- 상태 복구 기능
```

---

## 🎯 **Phase 5: 저장 및 동기화**

### **Block 5-1: 저장 시스템**
```
🎯 목표: 안전한 저장 로직
📁 파일: qmanager/js/qmanager-save.js
🔧 기능:
- 변경사항 검증
- 백업 생성
- 일괄 저장 실행
- 저장 결과 피드백
📊 검증 기준:
- 저장 정확성
- 백업 생성 완전성
- 에러 복구 기능
```

**재활용 요소**:
- QGENERATOR의 저장 로직
- API 호출 방식
- 에러 처리

### **Block 5-2: 업로드 시스템**
```
🎯 목표: 서버 동기화
📁 파일: qmanager/js/qmanager-upload.js
🔧 기능:
- 서버 데이터 업데이트
- 충돌 해결
- 업로드 진행률 표시
- 성공/실패 피드백
📊 검증 기준:
- 업로드 정확성
- 충돌 해결 로직
- 진행률 표시 정확성
```

---

## 🎯 **Phase 6: 최적화 및 리팩토링**

### **Block 6-1: 성능 최적화**
```
🎯 목표: 성능 개선
📁 파일: qmanager/js/qmanager-optimize.js
🔧 기능:
- 메모리 사용량 최적화
- 로딩 속도 개선
- 캐싱 전략
- 지연 로딩
📊 검증 기준:
- 메모리 사용량 20% 감소
- 로딩 속도 30% 개선
- 캐싱 효율성 측정
```

**리팩토링**:
- 중복 코드 제거
- 함수 최적화
- 메모리 누수 방지

### **Block 6-2: 사용자 경험 개선**
```
🎯 목표: UX 최적화
📁 파일: qmanager/js/qmanager-ux.js
🔧 기능:
- 로딩 애니메이션
- 사용자 피드백
- 키보드 단축키
- 접근성 개선
📊 검증 기준:
- 사용자 만족도 측정
- 접근성 표준 준수
- 반응성 개선
```

---

## 📅 **개발 일정 및 마일스톤**

### **Week 1: Phase 1-2 (2025.08.28 ~ 2025.09.03)**
- **목표**: 데이터 구조 설계 및 핵심 데이터 관리 모듈
- **마일스톤**: 8개 고정 QCODE 시스템 완성
- **검증**: 100개 기출문제로 CRUD 테스트 완료

### **Week 2: Phase 3-4 (2025.09.04 ~ 2025.09.10)**
- **목표**: UI 관리 모듈 및 통합 상호작용
- **마일스톤**: 기본 UI 완성 및 이벤트 처리
- **검증**: 1,440개 기출문제 로딩 테스트 완료

### **Week 3: Phase 5-6 (2025.09.11 ~ 2025.09.17)**
- **목표**: 저장/동기화 및 최적화
- **마일스톤**: 전체 기능 통합 완성
- **검증**: 전체 시스템 성능 테스트

### **Week 4: 통합 테스트 (2025.09.18 ~ 2025.09.25)**
- **목표**: 전체 시스템 테스트 및 최종 검증
- **마일스톤**: 프로덕션 준비 완료
- **검증**: 사용자 테스트 및 성능 최적화

---

## 🎯 **각 Phase별 검증 기준**

### **시뮬레이션 검증**:
- ✅ 단위 테스트 통과율 95% 이상
- ✅ 성능 기준 달성 (로딩 < 3초)
- ✅ 메모리 사용량 < 100MB
- ✅ 에러 발생률 < 1%

### **실제 데이터 검증**:
- ✅ 1,440개 기출문제 완전 적용
- ✅ 기존 데이터 100% 호환성
- ✅ 대용량 데이터 처리 성공
- ✅ 데이터 무결성 검증

### **디버깅 기준**:
- ✅ 에러 로그 완전성
- ✅ 사용자 피드백 반영율 90% 이상
- ✅ 성능 병목 해결
- ✅ 메모리 누수 0%

---

## 👥 **사용자 시나리오**

### **시나리오 1: 신규 사용자 - 첫 진위형 문제 생성**

#### **사용자**: 김보험 (보험업계 신입)
#### **목표**: ABAA-01 기출문제로 진위형 문제 3개 생성

**단계별 시나리오**:

1. **시스템 접속**
   ```
   사용자: "대문에서 QManager 클릭"
   시스템: "QManager 초기 화면 로딩"
   결과: 좌측에 기출문제 목록, 우측에 빈 8개 슬롯 표시
   ```

2. **기출문제 선택**
   ```
   사용자: "검색창에 'ABAA-01' 입력 후 검색"
   시스템: "ABAA-01 기출문제 하이라이트"
   사용자: "ABAA-01 라디오 버튼 클릭"
   시스템: "우측에 ABAA-01 정보 표시, 8개 빈 슬롯 표시"
   ```

3. **진위형 문제 생성**
   ```
   사용자: "문제 1 슬롯에 '보험업법 제1조에 따라 보험업을 영위하려면 금융위원회의 허가를 받아야 한다.' 입력"
   사용자: "정답 라디오 버튼 'O (맞음)' 선택"
   사용자: "문제 2 슬롯에 '보험계약은 계약자와 보험자 간의 합의로만 성립한다.' 입력"
   사용자: "정답 라디오 버튼 'X (틀림)' 선택"
   사용자: "문제 3 슬롯에 '보험료는 보험계약 체결 시에만 납입하면 된다.' 입력"
   사용자: "정답 라디오 버튼 'O (맞음)' 선택"
   ```

4. **저장 및 업로드**
   ```
   사용자: "저장 버튼 클릭"
   시스템: "3개 문제 저장 완료 메시지 표시"
   사용자: "업로드 버튼 클릭"
   시스템: "ABAA-01-B1, ABAA-01-B2, ABAA-01-B3 생성 완료"
   ```

**예상 결과**:
- ✅ 3개 진위형 문제 성공적 생성
- ✅ QCODE 정확히 할당 (ABAA-01-B1, B2, B3)
- ✅ 데이터베이스에 정상 저장

---

### **시나리오 2: 기존 사용자 - 문제 수정 및 추가**

#### **사용자**: 박과장 (보험업계 5년차)
#### **목표**: ABAA-09 기존 문제 수정 및 새 문제 추가

**단계별 시나리오**:

1. **기존 문제 확인**
   ```
   사용자: "ABAA-09 기출문제 선택"
   시스템: "기존 3개 문제 표시 (B1, B2, B3), 나머지 5개 빈 슬롯"
   ```

2. **기존 문제 수정**
   ```
   사용자: "문제 2 슬롯의 문제 내용 수정"
   사용자: "정답을 'X (틀림)'에서 'O (맞음)'으로 변경"
   시스템: "수정사항 실시간 반영"
   ```

3. **새 문제 추가**
   ```
   사용자: "문제 4 슬롯에 새 문제 입력"
   사용자: "문제 6 슬롯에 새 문제 입력"
   시스템: "B4, B6 슬롯 활성화"
   ```

4. **문제 삭제**
   ```
   사용자: "문제 3 슬롯의 삭제 버튼 클릭"
   시스템: "문제 3 슬롯 초기화, B3 삭제 확인"
   ```

5. **일괄 저장**
   ```
   사용자: "저장 버튼 클릭"
   시스템: "수정: B2, 추가: B4, B6, 삭제: B3 처리 완료"
   사용자: "업로드 버튼 클릭"
   시스템: "데이터베이스 업데이트 완료"
   ```

**예상 결과**:
- ✅ 기존 문제 정확히 수정
- ✅ 새 문제 2개 추가 (B4, B6)
- ✅ 불필요한 문제 삭제 (B3)
- ✅ 데이터 무결성 유지

---

### **시나리오 3: 대량 작업 - 여러 기출문제 일괄 처리**

#### **사용자**: 이팀장 (보험업계 10년차)
#### **목표**: 5개 기출문제에 대해 진위형 문제 일괄 생성

**단계별 시나리오**:

1. **첫 번째 기출문제 처리**
   ```
   사용자: "ABAA-15 선택"
   사용자: "문제 1~4 슬롯에 진위형 문제 입력"
   사용자: "저장 → 업로드"
   시스템: "ABAA-15-B1~B4 생성 완료"
   ```

2. **두 번째 기출문제 처리**
   ```
   사용자: "ABAA-16 선택"
   사용자: "문제 1~3 슬롯에 진위형 문제 입력"
   사용자: "저장 → 업로드"
   시스템: "ABAA-16-B1~B3 생성 완료"
   ```

3. **반복 작업**
   ```
   사용자: "ABAA-17~ABAA-19 순차 처리"
   시스템: "각각 2~5개 문제 생성"
   ```

4. **작업 결과 확인**
   ```
   사용자: "통계 확인"
   시스템: "총 18개 진위형 문제 생성 완료"
   ```

**예상 결과**:
- ✅ 5개 기출문제 처리 완료
- ✅ 총 18개 진위형 문제 생성
- ✅ 각 QCODE 정확히 할당
- ✅ 시스템 안정성 유지

---

### **시나리오 4: 에러 상황 처리**

#### **사용자**: 최사원 (보험업계 신입)
#### **상황**: 잘못된 입력 및 네트워크 오류

**단계별 시나리오**:

1. **잘못된 입력 처리**
   ```
   사용자: "빈 문제로 저장 시도"
   시스템: "문제 내용을 입력해주세요" 경고 메시지
   사용자: "정답 미선택 상태로 저장 시도"
   시스템: "정답을 선택해주세요" 경고 메시지
   ```

2. **네트워크 오류 처리**
   ```
   사용자: "업로드 버튼 클릭"
   시스템: "네트워크 연결 오류" 메시지
   사용자: "재시도 버튼 클릭"
   시스템: "업로드 성공" 메시지
   ```

3. **데이터 복구**
   ```
   사용자: "브라우저 새로고침"
   시스템: "이전 작업 내용 복구" 확인
   사용자: "복구 확인"
   시스템: "이전 상태로 복원 완료"
   ```

**예상 결과**:
- ✅ 사용자 친화적 에러 메시지
- ✅ 자동 복구 기능 작동
- ✅ 데이터 손실 방지
- ✅ 안정적인 시스템 운영

---

## 📝 **결론**

### **성공 기준**
1. **기술적 성공**: 모든 블록 완성 및 통합
2. **성능 성공**: 1,440개 기출문제 원활 처리
3. **사용자 성공**: 직관적이고 효율적인 작업 환경
4. **안정성 성공**: 에러 없는 안정적 운영

### **기대 효과**
- **개발 효율성**: 레고블럭 방식으로 체계적 개발
- **코드 품질**: 재활용과 리팩토링으로 최적화
- **사용자 경험**: 8개 고정 슬롯으로 직관적 작업
- **시스템 안정성**: 검증된 로직과 철저한 테스트

### **다음 단계**
**Phase 1 Block 1-1부터 시작**하여 **단계별 블록 완성**을 통해 **3차 도전 성공**을 달성하겠습니다! 🚀

---

**작성자**: 서대리 (AI Assistant)  
**검토자**: 조대표님  
**다음 검토일**: Phase 1 완료 시

