# 진위형 문제 생성 모듈 프로세스 가이드 v1.1

## 📋 개요

### 목적
기출문제를 기반으로 새로운 진위형 문제를 생성하고 관리하는 프로세스를 표준화하여 일관성 있는 문제 생성을 보장합니다.

### 범위
- 기출문제 선택 및 분석
- 진위형 문제 생성 (O/X 형식)
- 품질 검증 및 저장
- 데이터베이스 관리
- GEP 대문 통합 시스템 활용

---

## 🔄 전체 프로세스 플로우

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  1. 기출문제 │───►│  2. 진위형   │───►│  3. 검증     │───►│  4. 저장     │
│   선택      │    │   문제 생성  │    │   및 테스트  │    │   및 관리    │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

---

## 📝 상세 프로세스

### 1단계: 기출문제 선택 및 분석

#### 1.1 문제 브라우징
- **도구**: QGENERATOR 좌측 패널
- **기능**: 
  - 회차별 필터링 (20회~30회)
  - LAYER별 필터링 (관계법령, 손보1부, 손보2부)
  - 키워드 검색
- **목적**: 적절한 원본 문제 찾기

#### 1.2 원본 문제 분석
- **확인 사항**:
  - 문제의 핵심 개념 파악
  - 출제 의도 분석
  - 파생 가능한 주제 식별
- **결과**: 객관식 문제 생성 방향 결정

#### 1.3 문제 선택
- **액션**: 원본 문제 클릭
- **결과**: 
  - 우측 상단에 원본 문제 정보 표시
  - 객관식 생성 폼 활성화

### 2단계: 진위형 문제 생성

#### 2.1 문제 텍스트 작성
- **원칙**:
  - 원본 문제의 핵심 개념 유지
  - 명확하고 간결한 문장
  - 진위형(O/X) 형식에 적합한 구조
- **검증**: 문법, 맞춤법, 의미 명확성

#### 2.2 진위형 문제 구조
- **형식**: "~이다" 또는 "~아니다" 형태의 명제
- **원칙**:
  - 명확한 진위 판단 가능
  - 모호하지 않은 명제
  - 교육적 가치가 있는 내용
- **품질 기준**:
  - 정답이 명확히 구분됨
  - 오답이 합리적으로 설득력 있음

#### 2.3 정답 선택
- **방법**: O(맞음) 또는 X(틀림) 라디오 버튼 선택
- **확인**: QCODE 미리보기에서 생성될 코드 확인

### 3단계: 검증 및 테스트

#### 3.1 자동 검증
- **시스템 검증**:
  - 필수 필드 입력 확인
  - QCODE 중복 검사
  - 데이터 형식 검증
- **결과**: 오류 메시지 또는 승인

#### 3.2 수동 검토
- **검토 항목**:
  - 문제의 명확성
  - 보기의 적절성
  - 정답의 정확성
  - 난이도의 적절성
- **결과**: 승인 또는 수정

#### 3.3 품질 점검
- **기준**:
  - 교육적 가치
  - 시험 적합성
  - 원본 문제와의 연관성
- **결과**: 최종 승인

### 4단계: 저장 및 관리

#### 4.1 데이터베이스 저장
- **저장 위치**: `gep_generated_questions.json`
- **데이터 구조**:
  ```json
  {
    "QCODE": "ABAA-1321-C1",
    "QTYPE": "C",
    "QUESTION": "문제 텍스트",
    "OPTION1": "보기1",
    "OPTION2": "보기2",
    "OPTION3": "보기3",
    "OPTION4": "보기4",
    "ANSWER": "2",
    "SOURCE_QCODE": "ABAA-1321",
    "PARENT_INFO": "30회 관계법령 1번"
  }
  ```

#### 4.2 메타데이터 업데이트
- **업데이트 항목**:
  - 총 문제 수
  - 마지막 업데이트 시간
  - 생성자 정보
- **결과**: 데이터베이스 통계 갱신

#### 4.3 백업 및 동기화
- **백업**: 자동 백업 파일 생성
- **동기화**: 중앙 시스템과 데이터 동기화
- **결과**: 안전한 데이터 보관

---

## 🎯 품질 관리 기준

### 문제 품질 기준

#### 1. 내용적 품질
- **정확성**: 내용이 정확하고 사실에 근거함
- **명확성**: 문제와 보기가 명확하고 이해하기 쉬움
- **적절성**: 시험 수준에 적합한 난이도
- **교육성**: 학습에 도움이 되는 내용

#### 2. 형식적 품질
- **구조**: 4지선다 형식에 적합한 구조
- **균형**: 보기들의 길이와 구조가 균형적
- **일관성**: 용어와 표현의 일관성
- **완성도**: 모든 필수 요소가 포함됨

#### 3. 기술적 품질
- **QCODE**: 고유하고 체계적인 코드
- **메타데이터**: 완전하고 정확한 정보
- **연관성**: 원본 문제와의 명확한 연관성
- **추적성**: 출처 추적 가능

### 검증 체크리스트

#### 문제 검증
- [ ] 문제가 명확하고 이해하기 쉬운가?
- [ ] 핵심 개념이 정확히 표현되었는가?
- [ ] 문법과 맞춤법이 올바른가?

#### 보기 검증
- [ ] 정답이 명확히 구분되는가?
- [ ] 오답이 합리적이고 유사한 수준인가?
- [ ] 모든 보기가 동등한 길이와 구조인가?

#### 기술적 검증
- [ ] QCODE가 고유한가?
- [ ] 모든 필수 필드가 입력되었는가?
- [ ] 원본 문제와의 연관성이 명확한가?

---

## 🛠️ 트러블슈팅 가이드

### 일반적인 문제 및 해결방법

#### 1. 데이터 로딩 실패
**증상**: "총 0개 문제" 표시
**원인**: JSON 파일 경로 오류 또는 구조 문제
**해결방법**:
1. 브라우저 개발자 도구에서 네트워크 탭 확인
2. JSON 파일 경로 확인
3. 파일 구조 검증

#### 2. 필터링 문제
**증상**: 선택한 필터에 문제가 표시되지 않음
**원인**: 필터 조건과 데이터 형식 불일치
**해결방법**:
1. EROUND 형식 확인 (예: "26.0")
2. LAYER1 값 확인
3. 콘솔에서 디버깅 함수 실행

#### 3. 저장 실패
**증상**: "업로드 실패" 메시지
**원인**: 검증 실패 또는 파일 권한 문제
**해결방법**:
1. 모든 필수 필드 입력 확인
2. QCODE 중복 검사
3. 파일 권한 확인

#### 4. QCODE 생성 오류
**증상**: QCODE 미리보기가 표시되지 않음
**원인**: 필수 필드 누락
**해결방법**:
1. 모든 입력 필드 확인
2. 정답 선택 확인
3. 폼 재입력

### 디버깅 도구

#### 콘솔 명령어
```javascript
// 데이터 로딩 확인
window.debugQGData()

// 필터링 통계 확인
window.debugQGFilter()

// 특정 필터 테스트
window.testQGFilter('26', '관계법령')

// 강제 렌더링
window.forceQGRender()
```

---

## 📊 성과 측정

### 주요 지표

#### 1. 생산성 지표
- **일일 생성 문제 수**: 목표 10-20개
- **평균 생성 시간**: 목표 5-10분/문제
- **품질 승인률**: 목표 90% 이상

#### 2. 품질 지표
- **검증 통과율**: 목표 95% 이상
- **사용자 만족도**: 목표 4.0/5.0 이상
- **오류 발생률**: 목표 5% 이하

#### 3. 시스템 지표
- **시스템 가동률**: 목표 99% 이상
- **응답 시간**: 목표 3초 이하
- **데이터 무결성**: 목표 100%

### 개선 방안

#### 1. 프로세스 개선
- 템플릿 시스템 도입
- 자동화 도구 개발
- 품질 검증 강화

#### 2. 사용자 경험 개선
- UI/UX 최적화
- 도움말 시스템 강화
- 단축키 지원

#### 3. 시스템 안정성 향상
- 백업 시스템 강화
- 모니터링 도구 도입
- 성능 최적화

---

## 🌐 GEP 대문 통합 시스템 활용

### 접속 방법

#### 1. GEP 대문 접속
- **URL**: http://localhost:5000
- **QGENERATOR 버튼**: 상단 빨간박스 영역의 "QGENERATOR - 진위형 문제 생성기" 버튼 클릭

#### 2. QGENERATOR 직접 접속
- **URL**: http://localhost:5000/qgenerator
- **권장**: GEP 대문을 통한 접속

### 통합 시스템 특징

#### 1. 단일 서버 관리
- ✅ GEP 메인 서버와 QGENERATOR 통합
- ✅ 포트 충돌 문제 해결
- ✅ 통합된 사용자 경험

#### 2. API 엔드포인트
- **저장**: POST /api/save-questions
- **조회**: GET /api/get-questions
- **데이터 파일**: /static/data/gep_generated_questions.json

#### 3. 실시간 데이터 동기화
- ✅ 생성된 진위형 문제 실시간 저장
- ✅ 메타데이터 자동 업데이트
- ✅ 부모-자식 관계 추적

### 실제 사용 예시

#### 1. 진위형 문제 생성 과정
```
1. GEP 대문 접속 → QGENERATOR 버튼 클릭
2. 좌측에서 기출문제 선택 (예: ABAA-01)
3. 우측에서 진위형 문제 8개 입력
4. 체크박스로 업로드할 문제 선택
5. "업로드" 버튼 클릭
6. 자동으로 gep_generated_questions.json에 저장
```

#### 2. 생성된 진위형 문제 예시
```json
{
  "QCODE": "ABAA-01-B1",
  "QTYPE": "B",
  "QUESTION": "보험중개사 시험은 손해보험 분야의 시험이다.",
  "ANSWER": "O",
  "SOURCE_QCODE": "ABAA-01",
  "PARENT_INFO": "20.0회 관계법령 1번"
}
```

---

## 📚 참고 자료

### 관련 문서
- [G034] 객관식문제 생성 시스템 개발기획서
- [G035] QGENERATOR 개발 완료 보고서
- [G036] QGENERATOR 개발 완료 보고서 v1.2
- [G026] QCODE 매핑 가이드

### 기술 자료
- JSON 데이터 구조 명세
- QCODE 생성 규칙
- 검증 프로세스 상세

### 연락처
- **개발자**: 서대리
- **검토자**: 조대표
- **문의**: 프로젝트 관리팀

---

**문서 버전**: v1.1  
**최종 업데이트**: 2025-08-27  
**다음 검토일**: 2025-09-03
