# GEP 개발절차서 V1.0
## 서대리 특화 레고블록 방법론 적용

**작성일:** 2025년 8월 25일  
**문서 성격:** 실제 개발 지침서  
**적용 방법론:** 서대리 자체 시뮬레이션 + 레고블록 개발  
**기준 문서:** G016, G018

---

## 🎯 **개발 철학 및 원칙**

### **핵심 원칙**
1. **QUESTION 필드 절대 노터치**: 문제 데이터는 그대로 통과
2. **레고블록 단위 개발**: 작은 단위로 나누어 검증 후 통합
3. **파일 크기 관리**: 50KB 이하 유지, 초과 시 즉시 리팩토링
4. **ACIU S4 경험 재활용**: 검증된 코드 최대한 활용

### **개발 방식**
- **탑다운 설계**: 고급 서비스 기준으로 아키텍처 구축
- **바텀업 구현**: 작은 블록부터 하나씩 완성
- **지속적 검증**: 각 블록 완성 후 즉시 테스트
- **점진적 통합**: 검증된 블록들을 순차적으로 연결

---

## 📁 **폴더/파일 구조 설계**

```
GEPv1.0/
├── app.py                    # Flask 메인 애플리케이션
├── requirements.txt          # Python 의존성
├── Procfile                 # Heroku 배포 설정
├── runtime.txt              # Python 버전
├── .gitignore               # Git 제외 파일
├── README.md                # 프로젝트 설명
├── static/                  # 정적 파일
│   ├── js/
│   │   ├── core/            # 핵심 모듈 (50KB 이하)
│   │   │   ├── data-manager.js      # 중앙 데이터 관리
│   │   │   ├── ui-controller.js     # UI 제어
│   │   │   ├── feature-controller.js # 기능 제어
│   │   │   └── event-handler.js     # 이벤트 처리
│   │   ├── modules/         # 기능별 모듈 (30KB 이하)
│   │   │   ├── user-registration.js # 사용자 등록
│   │   │   ├── question-solver.js   # 문제 풀이
│   │   │   ├── statistics.js        # 통계 처리
│   │   │   ├── analytics.js         # 분석 기능
│   │   │   └── payment.js           # 결제 시스템
│   │   └── utils/           # 유틸리티 (20KB 이하)
│   │       ├── validation.js        # 데이터 검증
│   │       ├── helpers.js           # 헬퍼 함수
│   │       └── constants.js         # 상수 정의
│   ├── css/
│   │   ├── main.css         # 기본 스타일 (30KB 이하)
│   │   ├── components.css   # 컴포넌트 스타일 (20KB 이하)
│   │   └── responsive.css   # 반응형 스타일 (15KB 이하)
│   └── data/
│       ├── questions.json   # 문제 데이터 (1MB 이하)
│       ├── user_db.json     # 사용자 데이터
│       ├── event_log.json   # 이벤트 로그
│       └── statistics.json  # 통계 데이터
├── templates/
│   ├── base.html            # 기본 템플릿 (20KB 이하)
│   ├── components/          # 컴포넌트 템플릿
│   │   ├── header.html      # 헤더
│   │   ├── footer.html      # 푸터
│   │   ├── navigation.html  # 네비게이션
│   │   └── modal.html       # 모달
│   └── pages/               # 페이지 템플릿
│       ├── index.html       # 메인 페이지
│       ├── register.html    # 등록 페이지
│       ├── learning.html    # 학습 페이지
│       └── statistics.html  # 통계 페이지
└── docs/                    # 문서
    ├── G016_GEP 프로젝트 서대리 자체 시뮬레이션 개발 절차.md
    ├── G018_GEP 단계별 개발계획서.md
    └── G020_GEP 개발절차서.md
```

---

## 🧩 **레고블록 개발 단계**

### **Phase 1: 기반 시스템 구축 (DAY 1-5)**

#### **Block 1: 프로젝트 환경 설정 (DAY 1)**
**목표:** 개발 환경 구축 및 기본 구조 생성

**작업 내용:**
- [ ] 폴더 구조 생성
- [ ] Flask 기본 앱 설정 (`app.py`)
- [ ] 기본 HTML 템플릿 생성 (`templates/base.html`)
- [ ] 기본 CSS 스타일 생성 (`static/css/main.css`)
- [ ] Git 저장소 초기화

**검증 기준:**
- [ ] Flask 서버 실행 성공
- [ ] 기본 페이지 로딩 성공
- [ ] 폴더 구조 정상 생성

**파일 크기 제한:**
- `app.py`: 5KB 이하
- `base.html`: 10KB 이하
- `main.css`: 15KB 이하

---

#### **Block 2: 데이터 변환 시스템 (DAY 2)**
**목표:** GEP_MASTER_V1.0.xlsx → JSON 변환

**작업 내용:**
- [ ] Excel to JSON 변환 스크립트 작성
- [ ] QUESTION 필드 노터치 원칙 적용
- [ ] 1,440개 문제 완전 변환
- [ ] 데이터 구조 검증

**검증 기준:**
- [ ] 모든 문제 변환 성공
- [ ] QUESTION 필드 완전 보존
- [ ] JSON 파일 크기 1MB 이하
- [ ] 데이터 무결성 확인

**출력 파일:**
- `static/data/questions.json`

---

#### **Block 3: 핵심 데이터 관리자 (DAY 3)**
**목표:** ACIU S4 CentralDataManager를 GEP용으로 확장

**작업 내용:**
- [ ] ACIU S4 CentralDataManager 분석
- [ ] GEP용 데이터 구조 설계
- [ ] 4-axis DB 스키마 구현
- [ ] localStorage 기반 데이터 관리

**검증 기준:**
- [ ] 데이터 저장/로드 성공
- [ ] 4-axis DB 구조 정상 작동
- [ ] 파일 크기 50KB 이하
- [ ] ACIU S4 호환성 유지

**출력 파일:**
- `static/js/core/data-manager.js`

---

#### **Block 4: 기본 UI 컨트롤러 (DAY 4)**
**목표:** UI 제어 시스템 구축

**작업 내용:**
- [ ] UI 상태 관리 시스템
- [ ] 페이지 전환 로직
- [ ] 모달 및 팝업 제어
- [ ] 반응형 UI 처리

**검증 기준:**
- [ ] 모든 UI 요소 정상 작동
- [ ] 페이지 전환 부드러움
- [ ] 모바일 반응형 정상
- [ ] 파일 크기 30KB 이하

**출력 파일:**
- `static/js/core/ui-controller.js`

---

#### **Block 5: 기능 제어 시스템 (DAY 5)**
**목표:** subscription_level 기반 기능 제어

**작업 내용:**
- [ ] 기능 접근 권한 시스템
- [ ] subscription_level 기반 제어
- [ ] 기능 활성화/비활성화 로직
- [ ] 사용자 레벨별 UI 표시

**검증 기준:**
- [ ] 모든 기능 레벨 정상 제어
- [ ] UI 표시/숨김 정상 작동
- [ ] 권한 검증 정확성
- [ ] 파일 크기 25KB 이하

**출력 파일:**
- `static/js/core/feature-controller.js`

---

### **Phase 2: 핵심 기능 구현 (DAY 6-15)**

#### **Block 6: 사용자 등록 시스템 (DAY 6-7)**
**목표:** 사용자 등록 및 관리 기능

**작업 내용:**
- [ ] 사용자 등록 UI 구현
- [ ] 데이터 검증 로직
- [ ] 사용자 DB 저장
- [ ] 로그인/로그아웃 기능

**검증 기준:**
- [ ] 등록 프로세스 완료
- [ ] 데이터 검증 정확성
- [ ] DB 저장 성공
- [ ] 파일 크기 40KB 이하

**출력 파일:**
- `static/js/modules/user-registration.js`
- `templates/pages/register.html`

---

#### **Block 7: 문제 풀이 시스템 (DAY 8-10)**
**목표:** 기본 문제 풀이 기능

**작업 내용:**
- [ ] 문제 표시 UI
- [ ] 답안 선택 시스템
- [ ] 정답 검증 로직
- [ ] 결과 표시

**검증 기준:**
- [ ] 문제 정상 표시
- [ ] 답안 선택 정상
- [ ] 정답 검증 정확성
- [ ] 파일 크기 45KB 이하

**출력 파일:**
- `static/js/modules/question-solver.js`
- `templates/pages/learning.html`

---

#### **Block 8: 통계 처리 시스템 (DAY 11-12)**
**목표:** 학습 통계 및 분석

**작업 내용:**
- [ ] 기본 통계 계산
- [ ] 진도 관리
- [ ] 정답률 추적
- [ ] 통계 표시 UI

**검증 기준:**
- [ ] 통계 계산 정확성
- [ ] 진도 추적 정상
- [ ] UI 표시 정상
- [ ] 파일 크기 35KB 이하

**출력 파일:**
- `static/js/modules/statistics.js`
- `templates/pages/statistics.html`

---

#### **Block 9: 이벤트 처리 시스템 (DAY 13-15)**
**목표:** 사용자 행동 추적 및 분석

**작업 내용:**
- [ ] 이벤트 로깅 시스템
- [ ] 사용자 행동 추적
- [ ] 학습 패턴 분석
- [ ] 이벤트 DB 저장

**검증 기준:**
- [ ] 모든 이벤트 정상 로깅
- [ ] 데이터 저장 성공
- [ ] 분석 정확성
- [ ] 파일 크기 30KB 이하

**출력 파일:**
- `static/js/core/event-handler.js`

---

### **Phase 3: 고급 기능 구현 (DAY 16-25)**

#### **Block 10: 과목별 필터링 (DAY 16-17)**
**목표:** LAYER1, LAYER2, LAYER3 기반 필터링

**작업 내용:**
- [ ] 과목별 필터 UI
- [ ] 다중 레이어 필터링
- [ ] 필터 결과 표시
- [ ] 필터 상태 저장

**검증 기준:**
- [ ] 모든 필터 정상 작동
- [ ] 다중 레이어 정확성
- [ ] 상태 저장 정상
- [ ] 파일 크기 25KB 이하

---

#### **Block 11: 틀린문제 학습 (DAY 18-19)**
**목표:** 오답 노트 및 틀린문제 학습

**작업 내용:**
- [ ] 틀린문제 추적
- [ ] 오답 노트 UI
- [ ] 틀린문제 재학습
- [ ] 오답 패턴 분석

**검증 기준:**
- [ ] 틀린문제 정확 추적
- [ ] 재학습 기능 정상
- [ ] 패턴 분석 정확성
- [ ] 파일 크기 30KB 이하

---

#### **Block 12: 고급 분석 시스템 (DAY 20-22)**
**목표:** AI 기반 학습 분석 및 추천

**작업 내용:**
- [ ] 학습 패턴 분석
- [ ] 개인화 추천 시스템
- [ ] 합격 가능성 예측
- [ ] 학습 최적화 제안

**검증 기준:**
- [ ] 분석 정확성
- [ ] 추천 시스템 정상
- [ ] 예측 모델 성능
- [ ] 파일 크기 40KB 이하

**출력 파일:**
- `static/js/modules/analytics.js`

---

#### **Block 13: 결제 시스템 (DAY 23-25)**
**목표:** 무료 → 유료 전환 시스템

**작업 내용:**
- [ ] 결제 UI 구현
- [ ] 결제 처리 로직
- [ ] subscription_level 업데이트
- [ ] 기능 활성화

**검증 기준:**
- [ ] 결제 프로세스 완료
- [ ] 레벨 업데이트 정상
- [ ] 기능 활성화 정확
- [ ] 파일 크기 35KB 이하

**출력 파일:**
- `static/js/modules/payment.js`

---

### **Phase 4: 통합 및 최적화 (DAY 26-30)**

#### **Block 14: 시스템 통합 (DAY 26-27)**
**목표:** 모든 블록 통합 및 연결

**작업 내용:**
- [ ] 모듈 간 연결
- [ ] 데이터 흐름 최적화
- [ ] 에러 처리 통합
- [ ] 성능 최적화

**검증 기준:**
- [ ] 모든 기능 정상 작동
- [ ] 데이터 흐름 정확성
- [ ] 에러 처리 완벽성
- [ ] 성능 목표 달성

---

#### **Block 15: 최종 테스트 및 배포 (DAY 28-30)**
**목표:** 완전한 시스템 테스트 및 배포

**작업 내용:**
- [ ] 전체 시스템 테스트
- [ ] 사용자 시나리오 테스트
- [ ] 성능 최적화
- [ ] Heroku 배포

**검증 기준:**
- [ ] 모든 기능 완벽 작동
- [ ] 사용자 시나리오 성공
- [ ] 성능 목표 달성
- [ ] 배포 성공

---

## 🔧 **리팩토링 기준 및 절차**

### **파일 크기 제한**
```javascript
const FILE_SIZE_LIMITS = {
  "JavaScript": "50KB 이하",
  "JSON": "1MB 이하", 
  "HTML": "20KB 이하",
  "CSS": "30KB 이하"
};
```

### **리팩토링 트리거**
- [ ] 파일 크기 제한 초과
- [ ] 함수 100줄 초과
- [ ] 클래스 500줄 초과
- [ ] 중복 코드 3회 이상 발견
- [ ] 성능 이슈 발생

### **리팩토링 절차**
1. **문제 식별**: 크기/성능 이슈 발견
2. **분석**: 리팩토링 범위 결정
3. **설계**: 새로운 구조 설계
4. **구현**: 단계별 리팩토링
5. **검증**: 기능 정상 작동 확인
6. **통합**: 기존 시스템과 연결

---

## 🧪 **검증 및 테스트 절차**

### **각 블록별 검증**
1. **기능 테스트**: 핵심 기능 정상 작동
2. **파일 크기 확인**: 제한 내 유지
3. **성능 테스트**: 로딩 속도 확인
4. **호환성 테스트**: 브라우저 호환성
5. **에러 처리**: 예외 상황 처리

### **통합 테스트**
1. **모듈 간 연결**: 데이터 흐름 확인
2. **전체 시나리오**: 사용자 시나리오 테스트
3. **성능 최적화**: 전체 시스템 성능
4. **보안 검증**: 데이터 보안 확인

---

## 📊 **진행 상황 추적**

### **일일 진행 체크리스트**
- [ ] 오늘의 블록 완료
- [ ] 파일 크기 제한 준수
- [ ] 검증 기준 달성
- [ ] 다음 블록 준비

### **주간 리뷰**
- [ ] 완료된 블록 검토
- [ ] 성능 지표 확인
- [ ] 리팩토링 필요성 검토
- [ ] 다음 주 계획 수립

---

## 🚀 **개발 시작 준비**

### **DAY 1 시작 전 확인사항**
- [ ] 개발 환경 설정 완료
- [ ] 폴더 구조 생성
- [ ] Git 저장소 초기화
- [ ] 기본 템플릿 준비

### **즉시 시작 가능**
**모든 준비가 완료되었습니다. 조대표님의 승인을 받으면 Block 1부터 시작하겠습니다!**

---

**문서 버전:** V1.0  
**최종 업데이트:** 2025년 8월 25일  
**작성자:** 서대리 (실제 개발 지침서)

I'll open `docs/G021_사전정보 서대리 질문에 대한 조대표 답변.md` to review your answers and then give focused feedback and any follow-ups.
Ran tool

조대표님, G021 답변 확인했습니다. 핵심 결정 요약과 실행 준비 사항 드립니다.

### 확정 사항 요약
- 데이터 변환: QUESTION 필드 완전 노터치. 파일 크기 제한 없음(질문 파일은 그대로).
- ACIU 재사용: 참고만 하고 GEP 기준으로 신규 구현.
- 데이터 기준: GEP 구조가 SSOT. 필요시 ACIU를 GEP 구조에 맞춰 변환.
- 서비스 레벨:
  - 무료: 회차별 학습만, 1→120 순차 표시.
  - 기본: 과목(LAYER2) 기반 필터 + 일일/누적/전체 통계 제공.
  - 고급: 기본과 통계 동일, 추가 학습경험(객관식/미니모의고사 등) 제공.
- 사용자: 전화번호 기반 식별. 게스트도 번호 등록 필수, 무료 서비스만 사용. 이력 승계.
- 배포: GitHub 관리, Heroku 배포. 로컬 개발→브랜치 머지→자동 배포.
- 백업/보안: 서대리 제안/시행.
- 모니터링: 조대표 테스트 기반 이슈 제기.
- 결제/알림: 결제는 후순위(대중 서비스 선택 예정), 알림 불필요.
- 문제 운영: 마스터 엑셀에서 조대표가 편집, 서대리는 CSV→JSON 변환/업데이트 모듈 관리. 난이도 미정은 공란.
- 개인정보/수집: 최소한으로, 추가 정의 불요.
- 디자인/반응형: 서대리 초안→조대표 피드백.
- 접근성/다국어: 비적용.
- 출시: 최초에 무료/기본/고급 기능 구조 탑재, 레벨별 활성화만 다르게. 최대한 빠르게.

### 즉시 반영할 설계/구현 포인트
- 데이터
  - `static/data/questions.json`: 단일 파일 유지, 분할 미적용.
  - 스키마에 `EXAM_SESSION`(회차), `LAYER2`(과목) 필수 사용.
- 사용자/세션
  - `user_id = phone_number` 고정.
  - 게스트도 등록 화면에서 전화번호 입력 후 진입.
- 기능 제어
  - `user_db.json.subscription_level ∈ {free, basic, premium}` 기반 Feature Toggle.
- 통계
  - 무료: 최소 통계(학습 진행률/정답률 요약).
  - 기본/고급: 일일/누적/전체 통계 동일 제공.
- UI
  - 무료: 회차 선택→1~120 순차 진행.
  - 기본: LAYER2 과목 필터 추가.
  - 고급: 객관식/미니모의고사 엔트리 추가.
- 배포/운영
  - 브랜치 머지→Heroku 자동 배포 파이프라인 확인.
  - 백업: 일일 스냅샷(JSON) + 수동 복원 스크립트 준비.

### 서대리 보완 제안(실행 디테일)
- 폰번호 유효성: 국내 포맷 간단 검증만(서버 저장 전 단계).
- JSON 업데이트 파이프라인:
  - convert: Excel→CSV→JSON
  - validate: 필수 컬럼 검증(QCODE, LAYER2, EROUND, QUESTION not-null 허용)
  - dry-run: 변경 diff 리포트 생성
  - apply: `questions.json` 원자적 교체(백업 자동 생성)
- 통계 키
  - `statistics.json`에 `last_question_index.subject_based`와 `round_based` 모두 유지(이어풀기 안정성).
- 파일 크기 관리
  - JS 50KB 초과 시 모듈 분리 규칙 준수(G020 기준).

필요 추가 확인 3가지
- 고급 서비스의 “객관식/미니모의고사” 정확 범위: 객관식 은 단일 문항 유형 확대인지, 미니모의고사는 몇 문항/구성 룰인지(초기 값 제안 가능).
- 무료 서비스 통계 표시 수준: “간단 통계”의 항목 범위(진행률, 정답률 정도로 제한 OK?).
- 전화번호 재인증 유무: 기기 바뀔 때 동일 번호 입력만으로 이력 연결이면 충분한지(별도 인증 미실시로 이해).

승인되면 G020 기준으로 Block 1→2부터 바로 착수하겠습니다.